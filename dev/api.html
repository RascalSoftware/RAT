
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>API &#8212; RAT  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=87e54e7c" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=7138875e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=881e7dcd"></script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.2';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://rascalsoftware.github.io/RAT/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = false;
        </script>
    <link rel="icon" href="_static/logo.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="RAT  documentation - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="RAT  documentation - Home"/>`);</script>
  
  
</a></div>
    
      <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="index.html">
                        Home
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="install.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="guide.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="reference/matlab/index.html">
                        MATLAB API Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="support.html">
                        Support
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="index.html">
                        Home
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="install.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="guide.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="reference/matlab/index.html">
                        MATLAB API Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="support.html">
                        Support
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">API</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="api">
<h1>API<a class="headerlink" href="#api" title="Link to this heading">#</a></h1>
<p>API is the folder that contains the two main classes of RAT are. They are <strong>Project Class</strong> and <strong>Controls Class</strong> and these are the classes user interacts with.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The “API” name comes from the generalized view how APIs work. In this case, the API sends the information back and forth from the top level classes to targetFunctions.</p>
</div>
<section id="project-class">
<span id="projectclass"></span><h2>Project Class<a class="headerlink" href="#project-class" title="Link to this heading">#</a></h2>
<p>Project Class is all about data. It contains the very data user wants to work with. It stores all the data required for reflectivity calculations.
Everything in RAT comes from projectClass in one way or another. There are many functions that deal with breaking down the data from Project Class into smaller pieces
so that they can be used in other parts of the software.</p>
<p>Project Class has lot of other classes that help create objects for inputs. They are :</p>
<ol class="arabic simple">
<li><p>Parameter Class</p></li>
<li><p>Resolution Class</p></li>
<li><p>Data Class</p></li>
<li><p>Contrasts Class</p></li>
<li><p>Custom File Class</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Most of these classes have the following in common:</p>
<ol class="arabic simple">
<li><p>They are all called from Project Class.</p></li>
<li><p>Methods to add or remove or change an attribute depending on the class.</p></li>
<li><p>Methods to find the location based on input value. Finding row when given an attribute’s name or vice versa (Not all of them though).</p></li>
<li><p>Display methods.</p></li>
<li><p>A ‘toStruct’ method which output the class parameters as a struct.</p></li>
</ol>
</div>
<section id="parameters-class">
<h3>Parameters Class<a class="headerlink" href="#parameters-class" title="Link to this heading">#</a></h3>
<p>Parameters Class helps to add,set or remove parameters to the Project Class. The class has a constructor that gets initiated when Parameter class is called. This constructor
sets important initial values to the class obj (object) like variable name, types. It also initiates a “table” that helps to store all the parameters. Table is a really useful
data type provided by matlab. Check this link to know more about <a class="reference external" href="https://uk.mathworks.com/help/matlab/tables.html">table</a>.</p>
<table class="table" id="id1">
<caption><span class="caption-text">The methods on the left call the methods on the right in the table.</span><a class="headerlink" href="#id1" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method in Project Class</p></th>
<th class="head"><p>Method in Parameters Class</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>projectClass.addParamGroup()</p></td>
<td><p>parametersClass.addParam()</p></td>
</tr>
<tr class="row-odd"><td><p>projectClass.addParam()</p></td>
<td><p>parametersClass.addParam()</p></td>
</tr>
<tr class="row-even"><td><p>projectClass.removeParam()</p></td>
<td><p>parametersClass.removeParam()</p></td>
</tr>
<tr class="row-odd"><td><p>projectClass.setParameter()</p></td>
<td><p>parametersClass.setParameter()</p></td>
</tr>
<tr class="row-even"><td><p>projectClass.setParameter()</p></td>
<td><p>parametersClass.setValue()</p></td>
</tr>
</tbody>
</table>
<p>When adding parameters, they can be added individually or as a group (see below). When added as a group, <cite>addParamGroup</cite> method in projectClass iterates over the
list of parameters and adds them one by one using <cite>addParam</cite> method which is used to add individual parameters.</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Adding parameters as a group. Can set to a class using projectClass.addParamGroup(Parameters)</span><a class="headerlink" href="#id2" title="Link to this code">#</a></div>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">Parameters</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c">%   Name                min         val         max     fit?</span>
<span class="w">    </span><span class="p">{</span><span class="s">&#39;Oxide thick&#39;</span><span class="p">,</span><span class="w">         </span><span class="mi">5</span><span class="p">,</span><span class="w">         </span><span class="mi">20</span><span class="p">,</span><span class="w">         </span><span class="mi">60</span><span class="p">,</span><span class="w">     </span><span class="nb">true</span><span class="w">   </span><span class="p">};</span>
<span class="w">    </span><span class="p">{</span><span class="s">&#39;Oxide SLD&#39;</span><span class="p">,</span><span class="w">           </span><span class="mf">3e-6</span><span class="p">,</span><span class="w">       </span><span class="mf">3.41e-6</span><span class="p">,</span><span class="w">    </span><span class="mf">4e-6</span><span class="p">,</span><span class="w">   </span><span class="nb">false</span><span class="w">  </span><span class="p">};</span>
<span class="w">    </span><span class="p">{</span><span class="s">&#39;Oxide Hydration&#39;</span><span class="w">      </span><span class="mi">0</span><span class="p">,</span><span class="w">          </span><span class="mi">20</span><span class="p">,</span><span class="w">         </span><span class="mi">30</span><span class="p">,</span><span class="w">     </span><span class="nb">true</span><span class="w">   </span><span class="p">}};</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Adding parameters individually. Can set to a class using projectClass.addParam(Parameter)</span><a class="headerlink" href="#id3" title="Link to this code">#</a></div>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">Oxide</span><span class="w"> </span><span class="p">=</span><span class="w">     </span><span class="p">{</span><span class="s">&#39;Oxide Layer&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">          % Name of the layer</span>
<span class="w">                </span><span class="s">&#39;Oxide thick&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">           % Layer thickness</span>
<span class="w">                </span><span class="s">&#39;Oxide SLD&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">             % Layer SLD</span>
<span class="w">                </span><span class="s">&#39;Substrate Roughness&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">   % Layer roughness</span>
<span class="w">                </span><span class="s">&#39;Oxide Hydration&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">       % Oxide hydration (percent)</span>
<span class="w">                </span><span class="s">&#39;bulk out&#39;</span><span class="w"> </span><span class="p">};</span><span class="w">               </span><span class="c">% Which bulk phase is hydrating the layer</span>

<span class="c">% Add this to the projectClass...</span>
<span class="n">projectClass</span><span class="p">.</span><span class="n">addLayer</span><span class="p">(</span><span class="n">Oxide</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>When <em>addParam</em> method is called, the method checks the input through a series of checks to find out
if there are any unexpected values at unexpected places. For example, having logical value in place of a numerical value argument. With <em>setParameter</em> method,
one can set the value of any parameter independently. However, there are other methods that helps setting individual parameters. For example, <em>setName</em> method helps
to set the name of a parameter.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>You can add Bulk in and Bulk out with this class</p></li>
<li><p>You can add scale factor with this class</p></li>
</ol>
</div>
</section>
<section id="layers-in-project-class">
<h3>Layers in Project Class<a class="headerlink" href="#layers-in-project-class" title="Link to this heading">#</a></h3>
<p>Like Parameters, Layers can be added as a group or individually. When added as a group, <cite>addLayerGroup</cite> method in projectClass iterates over the list of layers and
adds them one by one using <cite>addLayer</cite> method which is used to add individual layers.</p>
<table class="table" id="id4">
<caption><span class="caption-text">The methods on the left call the methods on the right in the table.</span><a class="headerlink" href="#id4" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method in Project Class</p></th>
<th class="head"><p>Method in Layers Class</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>projectClass.addLayerGroup()</p></td>
<td><p>layersClass_realSLD.addLayer()</p></td>
</tr>
<tr class="row-odd"><td><p>projectClass.addLayer()</p></td>
<td><p>layersClass_realSLD.addLayer()</p></td>
</tr>
<tr class="row-even"><td><p>projectClass.setLayerValue()</p></td>
<td><p>layersClass_realSLD.setLayerValue()</p></td>
</tr>
</tbody>
</table>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">Adding layers as a group. Can set to a class using projectClass.addLayerGroup(Layers)</span><a class="headerlink" href="#id5" title="Link to this code">#</a></div>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">projectClass</span><span class="p">.</span><span class="n">addLayerGroup</span><span class="p">({</span><span class="n">waterLayer</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">bilInnerHead</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">bilTails</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">bilOuterHead</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">Adding layers individually. Can set to a class using projectClass.addLayer(Layer)</span><a class="headerlink" href="#id6" title="Link to this code">#</a></div>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">waterLayer</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s">&#39;Water Layer&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">           % Layer name</span>
<span class="w">        </span><span class="s">&#39;Water thick&#39;</span><span class="p">,</span><span class="k">...</span>
<span class="w">        </span><span class="s">&#39;Water SLD&#39;</span><span class="p">,</span><span class="k">...</span>
<span class="w">        </span><span class="s">&#39;Bilayer heads rough&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">    % Outer interface of the water layer is a bilayer headgroup</span>
<span class="w">        </span><span class="s">&#39;Water hydr&#39;</span><span class="p">,</span><span class="k">...</span>
<span class="w">        </span><span class="s">&#39;Bulk out&#39;</span>
<span class="w">    </span><span class="p">};</span>

<span class="w">    </span><span class="n">projectClass</span><span class="p">.</span><span class="n">addLayer</span><span class="p">(</span><span class="n">waterLayer</span><span class="p">);</span>
</pre></div>
</div>
</div>
</section>
<section id="bulk-in-and-bulk-out">
<h3>Bulk In and Bulk Out<a class="headerlink" href="#bulk-in-and-bulk-out" title="Link to this heading">#</a></h3>
<p>Bulk In and Bulk Out are ……………………to be added. They are set using the <cite>addParam</cite> method in parameter class since they have the same columns in the table.</p>
<table class="table" id="id7">
<caption><span class="caption-text">The methods on the left call the methods on the right in the table.</span><a class="headerlink" href="#id7" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method in Project Class</p></th>
<th class="head"><p>Method in Parameter Class</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>projectClass.addBulkIn/addBulkOut()</p></td>
<td><p>parametersClass.addParam()</p></td>
</tr>
<tr class="row-odd"><td><p>projectClass.removeBulkIn/removeBulkOut()</p></td>
<td><p>parametersClass.removeParam()</p></td>
</tr>
<tr class="row-even"><td><p>projectClass.setBulkIn/setBulkOut()</p></td>
<td><p>parametersClass.setParameter()</p></td>
</tr>
</tbody>
</table>
<p>Although, Project class provides one level higher interface so that one can use <cite>addBulkIn</cite> and <cite>addBulkOut</cite> methods from projectClass to set these parameters.</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text">Adding Bulk Out. Can set to a class using projectClass.addBulkOut(BulkIn)</span><a class="headerlink" href="#id8" title="Link to this code">#</a></div>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="c">%                   Name       min     val   max  fit?</span>
<span class="w">    </span><span class="n">problem</span><span class="p">.</span><span class="n">addBulkOut</span><span class="p">({</span><span class="s">&#39;SLD SMW&#39;</span><span class="p">,</span><span class="mf">2e-6</span><span class="p">,</span><span class="mf">2.073e-6</span><span class="p">,</span><span class="mf">3e-6</span><span class="p">,</span><span class="nb">true</span><span class="p">});</span>
</pre></div>
</div>
</div>
<p><cite>setParameter</cite> or <cite>setBulk(In/Out)</cite> does the same thing which is converting cell array to struct.</p>
</section>
<section id="background-class">
<h3>Background Class<a class="headerlink" href="#background-class" title="Link to this heading">#</a></h3>
<p>This class makes the backgrounds in RAT. Backgrounds are defined in a two stage process. Firstly we define the actual fitted parameters.
These are held in a ‘ParametersClass’ table. Then, we group these into the backgrounds themselves using a multiTypeTable(<a class="reference external" href="https://uk.mathworks.com/help/matlab/tables.html">table</a>). So, we can then use the
background parameters to either define background as constant, data or a function.</p>
<table class="table" id="id9">
<caption><span class="caption-text">The methods on the left call the methods on the right in the table.</span><a class="headerlink" href="#id9" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method in Project Class</p></th>
<th class="head"><p>Method in backgroundsClass</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>projectClass.addBacksPar()</p></td>
<td><p>backgroundsClass.addBacksPar()</p></td>
</tr>
<tr class="row-odd"><td><p>projectClass.removeBacksPar()</p></td>
<td><p>backgroundsClass.removeBacksPar()</p></td>
</tr>
<tr class="row-even"><td><p>projectClass.setBacksPar()</p></td>
<td><p>backgroundsClass.setBacksPar()</p></td>
</tr>
<tr class="row-odd"><td><p>projectClass.addBackground()</p></td>
<td><p>backgroundsClass.addBackground()</p></td>
</tr>
<tr class="row-even"><td><p>projectClass.removeBackground()</p></td>
<td><p>backgroundsClass.removeBackground()</p></td>
</tr>
<tr class="row-odd"><td><p>projectClass.setBackground{Value/Name}()</p></td>
<td><p>backgroundsClass.setBackground{Value/Name}()</p></td>
</tr>
</tbody>
</table>
<p>Some of the methods of Background Class are:</p>
<ol class="arabic simple">
<li><p><cite>addBacksPar</cite> - This method adds the parameter to the back parameter table.</p></li>
<li><p><cite>setBacksParValue</cite> - Set a parameter value in the back parameter table.</p></li>
<li><p><cite>removeBacksPar</cite> - Remove a parameter from the backsPar/ back parameter table.</p></li>
<li><p><cite>addBackground</cite> - Add a background to the background table.</p></li>
<li><p><cite>setBackground</cite> - Set a background value in the background table. (Based on row)</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>For constant, only one parameter is supplied to multi type table.</p></li>
<li><p>For data, only the data itself is supplied as a cell.</p></li>
<li><p>For function, the function name is supplied, along with up to three parameters (from the parameters table) which are then supplied to the function to
calculate the background.</p></li>
</ol>
</div>
<p>In each case, the background can either be added to the simulation or subtracted from the data.</p>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text">Example showing how backgroundsClass methods are called.</span><a class="headerlink" href="#id10" title="Link to this code">#</a></div>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="c">% Change the name of the existing parameters to refer to D2O</span>
<span class="w">    </span><span class="n">problem</span><span class="p">.</span><span class="n">setBacksPar</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;name&#39;</span><span class="p">,</span><span class="s">&#39;Backs par D2O&#39;</span><span class="p">,</span><span class="s">&#39;fit&#39;</span><span class="p">,</span><span class="nb">true</span><span class="p">,</span><span class="s">&#39;min&#39;</span><span class="p">,</span><span class="mf">1e-8</span><span class="p">,</span><span class="s">&#39;max&#39;</span><span class="p">,</span><span class="mf">1e-5</span><span class="p">);</span>

<span class="w">    </span><span class="c">% Add a new constant background</span>
<span class="w">    </span><span class="n">problem</span><span class="p">.</span><span class="n">addBackground</span><span class="p">(</span><span class="s">&#39;Background SMW&#39;</span><span class="p">,</span><span class="s">&#39;constant&#39;</span><span class="p">,</span><span class="s">&#39;Backs par SMW&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<section id="multi-type-table">
<h4>Multi-Type Table<a class="headerlink" href="#multi-type-table" title="Link to this heading">#</a></h4>
<p>Multi-type Table is a custom table type. It is a general type of table that can altered to one’s needs by taking advantage of methods that allow
adding rows, setting values of an element, etc. This class is used in Background Class.</p>
</section>
</section>
<section id="data-class">
<h3>Data Class<a class="headerlink" href="#data-class" title="Link to this heading">#</a></h3>
<p>Data Class is a class to helps add or set data. Data can be addded using <cite>addData</cite> method. The <cite>addData</cite> method expects a cell array of cell array. Like other methods there’s
a check that directs different cases based on the length of inputs (1 meaning only name or data entered. If only name is entered, error prompted saying ‘Single input is expected
to be data name’. Case 2 being both name and data supplied and data is added accordingly). It uses <a class="reference external" href="https://uk.mathworks.com/help/matlab/tables.html">table</a> data type to do that.
The dataTable is a <a class="reference external" href="https://uk.mathworks.com/help/matlab/tables.html">table</a> with 4 columns. The following are the 4 columns:</p>
<ol class="arabic simple">
<li><p>Name of the data</p></li>
<li><p>Second column is the data itself</p></li>
<li><p>Data range. The data range is a cell array with two elements, the first element is the minimum value of the data, and
the second element is the maximum value of the data. (optional)</p></li>
<li><p>Simulation range. The simulation range is a cell array with two elements, the first element is the minimum value of the
simulation, and the second element is the maximum value of the simulation. (optional)</p></li>
</ol>
<table class="table" id="id11">
<caption><span class="caption-text">The methods on the left call the methods on the right in the table.</span><a class="headerlink" href="#id11" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method in Project Class</p></th>
<th class="head"><p>Method in Data Class</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>projectClass.addData()</p></td>
<td><p>dataClass.addData()</p></td>
</tr>
<tr class="row-odd"><td><p>projectClass.setData()</p></td>
<td><p>dataClass.setData()</p></td>
</tr>
</tbody>
</table>
<p>Like other classes, it has methods to setData, setDataRange or any individual column/parameter. It also checks if the data given is in the right format,
and if so, it stores it. If not, it has proper conditional statements to pinpoint the error. Like warning about duplicate names, number of inputs, type of an
input .. etc.</p>
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-text">Adding data. Usually, the data is in .dat files. So, <cite>readmatrix</cite> built-in method is used to read the data into a variable.</span><a class="headerlink" href="#id12" title="Link to this code">#</a></div>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">D2O_data</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">readmatrix</span><span class="p">(</span><span class="s">&#39;c_PLP0016596.dat&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="c">% Add the data to the project</span>
<span class="w">    </span><span class="n">projectClass</span><span class="p">.</span><span class="n">addData</span><span class="p">(</span><span class="s">&#39;Bilayer / D2O&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">D2O_data</span><span class="p">(:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text">Setting data range. (Min and Max values)</span><a class="headerlink" href="#id13" title="Link to this code">#</a></div>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">problem</span><span class="p">.</span><span class="n">setData</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="s">&#39;dataRange&#39;</span><span class="p">,[</span><span class="mf">0.013</span><span class="w"> </span><span class="mf">0.35</span><span class="p">]);</span>
</pre></div>
</div>
</div>
</section>
<section id="custom-file-class">
<h3>Custom File Class<a class="headerlink" href="#custom-file-class" title="Link to this heading">#</a></h3>
<p>RAT enables users to define their own custom files. They can be linked to RAT through Custom File class. Like other classes, the inputs are checked for
the right order and type. Also, it uses <a class="reference external" href="https://uk.mathworks.com/help/matlab/tables.html">table</a> data type to store the custom files. Custom files can be added or removed using the methods this class provides.</p>
<p>The custom file table has the following columns:</p>
<ol class="arabic simple">
<li><p>Name of the row in the Custom File table</p></li>
<li><p>Name of the custom file</p></li>
<li><p>Language of the custom file</p></li>
<li><p>Path of the custom file</p></li>
</ol>
<p>If all of the 4 columns are supplied, a new row (cell array of strings) is made using the supplied inputs. Then, <cite>appendNewRow</cite> method is used to append the row to the obj.
This method takes care of the error checking and incrementing the count of the custom files. It also makes a table of the row supplied. This table helps with displaying it
properly on terminal.</p>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-text">Adding MATLAB custom file.</span><a class="headerlink" href="#id14" title="Link to this code">#</a></div>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="c">%                       Row Name   Custom File Name  Language   Path</span>
<span class="w">    </span><span class="n">problem</span><span class="p">.</span><span class="n">addCustomFile</span><span class="p">(</span><span class="s">&#39;DSPC Model&#39;</span><span class="p">,</span><span class="s">&#39;customBilayer.m&#39;</span><span class="p">,</span><span class="s">&#39;matlab&#39;</span><span class="p">,</span><span class="nb">pwd</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-text">Adding C++ custom file.</span><a class="headerlink" href="#id15" title="Link to this code">#</a></div>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="w">        </span><span class="c">% For C++, function name of the cpp file is supplied</span>
<span class="w">        </span><span class="c">%                       Row Name        DLL/function Name  Language   Path</span>
<span class="w">        </span><span class="n">problem</span><span class="p">.</span><span class="n">addCustomFile</span><span class="p">(</span><span class="s">&#39;DSPC CPP Model&#39;</span><span class="p">,</span><span class="s">&#39;customBilayer&#39;</span><span class="p">,</span><span class="s">&#39;c++&#39;</span><span class="p">,</span><span class="nb">pwd</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>RAT only supports C++, MATLAB, and Python.</p>
</div>
</section>
<section id="contrast-class">
<h3>Contrast Class<a class="headerlink" href="#contrast-class" title="Link to this heading">#</a></h3>
<p>Contrast Class is a class to responsible to manipulate contrasts. While adding the contrast, the input(cell array) goes through some checks and if no input is given, the contrast is
automatically named and counter is incremented. If only name was given, contrast is incremented and the cell array’s name is set to current name.</p>
<p>The cell array of contrasts is sent to Contrast Class to get converted to a struct <cite>parseContrastInput</cite> method which gets attached to the class object.</p>
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-text">Adding a contrast (D20 Contrast)</span><a class="headerlink" href="#id16" title="Link to this code">#</a></div>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">problem</span><span class="p">.</span><span class="n">addContrast</span><span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">,</span><span class="s">&#39;Bilayer / D2O&#39;</span><span class="p">,</span><span class="k">...</span>
<span class="w">        </span><span class="s">&#39;background&#39;</span><span class="p">,</span><span class="s">&#39;Background D2O&#39;</span><span class="p">,</span><span class="k">...</span>
<span class="w">        </span><span class="s">&#39;resolution&#39;</span><span class="p">,</span><span class="s">&#39;Resolution 1&#39;</span><span class="p">,</span><span class="k">...</span>
<span class="w">        </span><span class="s">&#39;scalefactor&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;Scalefactor 1&#39;</span><span class="p">,</span><span class="k">...</span>
<span class="w">        </span><span class="s">&#39;resample&#39;</span><span class="p">,</span><span class="nb">false</span><span class="p">,</span><span class="k">...</span><span class="c">.</span>
<span class="w">        </span><span class="s">&#39;nbs&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;SLD D2O&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">        % This is bulk out (&#39;Nb Subs&#39;)</span>
<span class="w">        </span><span class="s">&#39;nba&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;Silicon&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">        % This is bulk in (&#39;Nb Air&#39;)</span>
<span class="w">        </span><span class="s">&#39;data&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;Bilayer / D2O&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>While setting contrasts to a model, <cite>setContrastModel</cite> method is called. This method is called with a cell array of a { number , cell array }. The number being what contrast
is and the cell array containing the information about the model. The main purpose of this method is to set the contrast to a model based on specified type of model. Based
on the type of model, the code checks whether some of contrast names are allowed or not. If not, it throws an error.</p>
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-text">Setting a contrast to a model</span><a class="headerlink" href="#id17" title="Link to this code">#</a></div>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="c">% 1 refers to the contrast number and the rest Layer information</span>
<span class="w">    </span><span class="n">problem</span><span class="p">.</span><span class="n">setContrastModel</span><span class="p">(</span><span class="mi">1</span><span class="p">,{</span><span class="s">&#39;Oxide Layer&#39;</span><span class="p">,</span><span class="k">...</span>
<span class="w">          </span><span class="s">&#39;Water Layer&#39;</span><span class="p">,</span><span class="k">...</span>
<span class="w">          </span><span class="s">&#39;Bil inner head&#39;</span><span class="p">,</span><span class="k">...</span>
<span class="w">          </span><span class="s">&#39;Bil tail&#39;</span><span class="p">,</span><span class="k">...</span>
<span class="w">          </span><span class="s">&#39;Bil tail&#39;</span><span class="p">,</span><span class="k">...</span>
<span class="w">          </span><span class="s">&#39;Bil outer head&#39;</span><span class="p">});</span>
</pre></div>
</div>
</div>
</section>
<section id="resolution-class">
<h3>Resolution Class<a class="headerlink" href="#resolution-class" title="Link to this heading">#</a></h3>
<p>Resolutions are defined in a two stage process. Firstly, actual fitted parameters are defined. These are held in a ‘Parameter Class’ table (referring to data type).
Then,these are grouped into the resolutions themselves using a multi-type table. Then the resolution parameters can be used to either define resolution as
constant, data, or a function.</p>
<p>The constructor is called with the parameters and resolutions as input. The parameters are stored in the resolPars table whereas the resolutions are stored in
the resolutions table and the allowed types are defined in the allowedTypes variable.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>For constant only one parameter is supplied to multi-type table.</p></li>
<li><p>For data, the name is supplied, along with name of the data in the data table.</p></li>
<li><p>For function, the function name is supplied, along with up to three parameters (from the parameters table) which are then supplied to the function to calculate the resolution.</p></li>
</ol>
</div>
<p>In each case, the Resolutions can either be added to or subtracted from the data.</p>
</section>
</section>
<section id="controls-class">
<span id="controlsclass"></span><h2>Controls Class<a class="headerlink" href="#controls-class" title="Link to this heading">#</a></h2>
<p>ControlsClass is all about control. It is necessary in determine the way RAT works. It deals with how the user interacts with the software. From type of parallelization
to whether the users wants to calculate SLD during fit and even how many iteration an algorithm should do ..etc.</p>
<p>There are 5 different <cite>controlsClass.procedures</cite> that can be used with RAT. They are:</p>
<ol class="arabic simple">
<li><p><strong>Simplex</strong></p></li>
<li><p><strong>Differential Evolution</strong> - Optimizes a problem by iteratively improving a candidate solution based on an evolutionary process</p></li>
<li><p><strong>Nested Sampler</strong> -  Estimates directly how the likelihood function relates to prior mass</p></li>
<li><p><strong>DREAM</strong></p></li>
<li><p><strong>Calculate</strong></p></li>
</ol>
<p>Each of them has their own unique set of options. The fields in class object of controlsClass are
automatically updated based on the procedure selected.</p>
<p>RAT uses parallelization to speed up the calculation. This is achieved using Parallel Computing Toolbox. The user can choose to use the parallelization or not and
if yes, what to parallelize on. (Points or Contrasts or all)</p>
<div class="literal-block-wrapper docutils container" id="id18">
<div class="code-block-caption"><span class="caption-text">Sample usage of controlsClass.</span><a class="headerlink" href="#id18" title="Link to this code">#</a></div>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">controls</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">controlsClass</span><span class="p">();</span>
<span class="w">    </span><span class="n">controls</span><span class="p">.</span><span class="n">calcSldDuringFit</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">    </span><span class="n">controls</span><span class="p">.</span><span class="n">nsimu</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">7000</span><span class="p">;</span>
<span class="w">    </span><span class="n">controls</span><span class="p">.</span><span class="n">repeats</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="w">    </span><span class="n">controls</span><span class="p">.</span><span class="n">parallel</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;contrasts&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id19">
<div class="code-block-caption"><span class="caption-text">Alternate usage of controlsClass.</span><a class="headerlink" href="#id19" title="Link to this code">#</a></div>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">controls</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">controlsClass</span><span class="p">();</span>
<span class="w">    </span><span class="n">controls</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">controls</span><span class="p">.</span><span class="n">setProcedure</span><span class="p">(</span><span class="s">&#39;dream&#39;</span><span class="p">,</span><span class="k">...</span>
<span class="w">                                     </span><span class="p">{</span><span class="s">&#39;nSamples&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">6000</span><span class="p">,</span><span class="k">...</span>
<span class="w">                                      </span><span class="s">&#39;nChains&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="k">...</span>
<span class="w">                                      </span><span class="s">&#39;parallel&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;contrasts&#39;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</section>
<section id="rat">
<h2>RAT<a class="headerlink" href="#rat" title="Link to this heading">#</a></h2>
<p>After the user has defined the projectClass and controlsClass, the user can run RAT like shown below</p>
<div class="literal-block-wrapper docutils container" id="id20">
<div class="code-block-caption"><span class="caption-text">Sample usage of RAT class.</span><a class="headerlink" href="#id20" title="Link to this code">#</a></div>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="c">% Initialize the project class</span>
<span class="w">    </span><span class="n">problem</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">projectClass</span><span class="p">();</span>

<span class="w">    </span><span class="c">% Initialize the controls class</span>
<span class="w">    </span><span class="n">controls</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">controlsClass</span><span class="p">();</span>

<span class="w">    </span><span class="c">% call the RAT function</span>
<span class="w">    </span><span class="p">[</span><span class="n">problem</span><span class="p">,</span><span class="n">results</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">RAT</span><span class="p">(</span><span class="n">problem</span><span class="p">,</span><span class="n">controls</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>When the RAT function is called, the classes are passed into internal functions like <cite>RatParseClassToStructs_new</cite> which takes the classes and breaks them down into cells,
limits,prior and more importantly converts the project class to struct.</p>
<p>Then, the <cite>RATMain</cite> function redirects the control flow based on what procedure is selected in controlsClass. One of the redirecting functions will call the reflectivityCalculation
which starts the reflectivity calculation.</p>
<p>Some interesting data type changes are needed because of how things work with coder. Coder wont accept variable sized cell arrays contains variable sized arrays (strings for eg)
in a field of a struct. So, look at <cite>RatParseClassToStructs_new</cite> function to understand how the data is converted.</p>
</section>
</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#project-class">Project Class</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#parameters-class">Parameters Class</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#layers-in-project-class">Layers in Project Class</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bulk-in-and-bulk-out">Bulk In and Bulk Out</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#background-class">Background Class</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-type-table">Multi-Type Table</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-class">Data Class</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#custom-file-class">Custom File Class</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#contrast-class">Contrast Class</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resolution-class">Resolution Class</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#controls-class">Controls Class</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rat">RAT</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="_sources/api.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2022-2024, ISIS Neutron and Muon Source.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.7.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.2.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Adding the Imaginary Refractive Index &#8212; RAT 1.0.0-beta documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/design-tabs.js"></script>
    <link rel="icon" href="_static/logo.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Incoherent Summing (Domains)" href="incoherent.html" />
    <link rel="prev" title="Different Calculation Types" href="calcTypes.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.png" alt="Logo" />
    
  </a>
</p>









<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithms.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Topics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="calcTypes.html">Different Calculation Types</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Adding the Imaginary Refractive Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="incoherent.html">Incoherent Summing (Domains)</a></li>
<li class="toctree-l2"><a class="reference internal" href="oilWater.html">Reflectivity from Oil/Water Samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="magnetic.html">Reflectivity from Magnetic Samples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utility Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
</ul>


        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="adding-the-imaginary-refractive-index">
<span id="imaginary"></span><h1>Adding the Imaginary Refractive Index<a class="headerlink" href="#adding-the-imaginary-refractive-index" title="Permalink to this heading">¶</a></h1>
<p>In contrast to RasCAL1, RAT allows the inclusion of the imaginary part of the refractive index to the project. The exact method of doing this varies according to the calculation type,
but at the project top-level, the method of enabling it is always the same. If the project is called ‘problem’, then:</p>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="n">problem</span><span class="p">.</span><span class="n">absorption</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
</pre></div>
</div>
<p>How this is then handled depends on the calculation type.</p>
<section id="standard-layers-models">
<h2><strong>Standard Layers Models</strong><a class="headerlink" href="#standard-layers-models" title="Permalink to this heading">¶</a></h2>
<p>The imaginary refractive index appears as a new column in the ‘Layers’ block..</p>
<a class="reference internal image-reference" href="_images/imaginarySL.png"><img alt="imaginary layers" src="_images/imaginarySL.png" style="width: 600px;" /></a>
<p>Then, the value of this column are set (from the Parameters block) in the same way as all the other cells in the table.</p>
</section>
<section id="custom-models">
<h2><strong>Custom Models</strong><a class="headerlink" href="#custom-models" title="Permalink to this heading">¶</a></h2>
<p>For custom models, an extra column is also required in the output from the custom function.</p>
<p>So, for example, in the <em>/examples/miscellaneous/absorption</em> folder, there is a Custom Layers example including absorption. In this example (a bilayer on a gold surface)
an imaginary SLD is required for the metal layers:</p>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="n">GOLD</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="n">goldThick</span><span class="w"> </span><span class="n">goldSLD</span><span class="w"> </span><span class="n">goldISLD</span><span class="w"> </span><span class="n">goldRough</span><span class="p">];</span>
<span class="n">alloyUp</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="n">alloyThick</span><span class="w"> </span><span class="n">alloySLDUp</span><span class="w"> </span><span class="n">alloyISLDUp</span><span class="w"> </span><span class="n">alloyRough</span><span class="p">];</span>
<span class="n">alloyDown</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="n">alloyThick</span><span class="w"> </span><span class="n">alloySLDDown</span><span class="w"> </span><span class="n">alloyISLDDown</span><span class="w"> </span><span class="n">alloyRough</span><span class="p">];</span>
</pre></div>
</div>
<p>but there is no imaginary component expected for the organic layers (but the extra column is still necessary).</p>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="n">BILTAILS</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="n">thickTail</span><span class="w"> </span><span class="n">sldTail</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">bilayerRough</span><span class="p">];</span>
<span class="n">BILHEAD</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="n">thickHead</span><span class="w"> </span><span class="n">sldHead</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">bilayerRough</span><span class="p">];</span>
<span class="n">BILME</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="n">thickMe</span><span class="w"> </span><span class="n">sldMe</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">bilayerRough</span><span class="p">];</span>
</pre></div>
</div>
<p>For custom XY models, it is necessary to construct a profile which represents the imaginary SLD across the sample, and this then appears as am extra column in the output:</p>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="n">output</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="n">X1</span><span class="w">    </span><span class="n">SLD1</span><span class="w">    </span><span class="n">SLD_im_1</span>
<span class="w">          </span><span class="n">X2</span><span class="w">    </span><span class="n">SLD2</span><span class="w">    </span><span class="n">SLD_im_2</span>
<span class="w">                </span><span class="k">...</span>
<span class="w">          </span><span class="n">Xn</span><span class="w">    </span><span class="n">SLDn</span><span class="w">    </span><span class="n">SLD_im_n</span><span class="p">]</span><span class="w"> </span><span class="p">;</span>
</pre></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;2022-2024, ISIS Neutron and Muon Source.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 6.2.1</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/imaginary.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
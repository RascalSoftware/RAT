<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of controlsClass</title>
  <meta name="keywords" content="controlsClass">
  <meta name="description" content="">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003-2019 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- menu.html API -->

<h1>controlsClass
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong></strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="controlsClass.html" class="code" title="">controlsClass</a>	</li>
</ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="controlsClass.html" class="code" title="">controlsClass</a>	</li>
</ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="#_sub1" class="code">function obj = set.parallel(obj,val)</a></li>
<li><a href="#_sub2" class="code">function obj = set.procedure(obj,val)</a></li>
<li><a href="#_sub3" class="code">function obj = set.calcSldDuringFit(obj,val)</a></li>
<li><a href="#_sub4" class="code">function obj = set.display(obj,val)</a></li>
<li><a href="#_sub5" class="code">function obj = set.updatePlotFreq(obj, val)</a></li>
<li><a href="#_sub6" class="code">function obj = set.resampleParams(obj,val)</a></li>
<li><a href="#_sub7" class="code">function obj = set.xTolerance(obj, val)</a></li>
<li><a href="#_sub8" class="code">function obj = set.funcTolerance(obj, val)</a></li>
<li><a href="#_sub9" class="code">function obj = set.maxFuncEvals(obj, val)</a></li>
<li><a href="#_sub10" class="code">function obj = set.maxIterations(obj, val)</a></li>
<li><a href="#_sub11" class="code">function obj = set.populationSize(obj, val)</a></li>
<li><a href="#_sub12" class="code">function obj = set.fWeight(obj,val)</a></li>
<li><a href="#_sub13" class="code">function obj = set.crossoverProbability(obj,val)</a></li>
<li><a href="#_sub14" class="code">function obj = set.strategy(obj,val)</a></li>
<li><a href="#_sub15" class="code">function obj = set.targetValue(obj,val)</a></li>
<li><a href="#_sub16" class="code">function obj = set.numGenerations(obj, val)</a></li>
<li><a href="#_sub17" class="code">function obj = set.nLive(obj, val)</a></li>
<li><a href="#_sub18" class="code">function obj = set.nMCMC(obj, val)</a></li>
<li><a href="#_sub19" class="code">function obj = set.propScale(obj, val)</a></li>
<li><a href="#_sub20" class="code">function obj = set.nsTolerance(obj,val)</a></li>
<li><a href="#_sub21" class="code">function obj = set.nSamples(obj,val)</a></li>
<li><a href="#_sub22" class="code">function obj = set.nChains(obj,val)</a></li>
<li><a href="#_sub23" class="code">function obj = set.jumpProbability(obj,val)</a></li>
<li><a href="#_sub24" class="code">function obj = set.pUnitGamma(obj,val)</a></li>
<li><a href="#_sub25" class="code">function obj = set.boundHandling(obj,val)</a></li>
<li><a href="#_sub26" class="code">function obj = set.adaptPCR(obj,val)</a></li>
<li><a href="#_sub27" class="code">function obj = setProcedure(obj, procedure, varargin)</a></li>
<li><a href="#_sub28" class="code">function groups = getPropertyGroups(obj)</a></li>
<li><a href="#_sub29" class="code">function obj = processCalculateInput(obj, varargin)</a></li>
<li><a href="#_sub30" class="code">function obj = processSimplexInput(obj, varargin)</a></li>
<li><a href="#_sub31" class="code">function obj = processDEInput(obj, varargin)</a></li>
<li><a href="#_sub32" class="code">function obj = processNSInput(obj, varargin)</a></li>
<li><a href="#_sub33" class="code">function obj = processDreamInput(obj, varargin)</a></li>
<li><a href="#_sub34" class="code">function inputBlock = parseInputs(~, p, properties, errorMsg)</a></li>
</ul>


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 classdef <a href="controlsClass.html" class="code" title="">controlsClass</a> &lt; matlab.mixin.CustomDisplay
0002 
0003     properties
0004         <span class="comment">% Parallelisation Option (Default: parallelOptions.Single)</span>
0005         parallel = parallelOptions.Single.value
0006         <span class="comment">% Optimization procedure (Default: procedures.Calculate)</span>
0007         procedure = procedures.Calculate.value
0008         <span class="comment">% Indicates if SLD should be calculated (Default: false)</span>
0009         calcSldDuringFit = false
0010         resampleParams = [0.9 50]
0011         <span class="comment">% Display Option (Default: displayOptions.Iter)</span>
0012         display = displayOptions.Iter.value
0013 
0014         <span class="comment">% optimization tolerance for simplex (Default: 1e-6)</span>
0015         xTolerance = 1e-6    
0016         funcTolerance = 1e-6
0017         <span class="comment">% Maximum number of function evaluations for simplex  (Default: 10000)</span>
0018         maxFuncEvals = 10000
0019         <span class="comment">% Maximum number of iterations for simplex  (Default: 1000)</span>
0020         maxIterations = 1000
0021         updateFreq = -1
0022         updatePlotFreq = 1
0023         
0024         <span class="comment">% Differential Evolution population size (Default: 20)</span>
0025         populationSize = 20
0026         <span class="comment">% Differential weight (Default: 0.5)</span>
0027         fWeight = 0.5
0028         <span class="comment">% The crossover probability or recombination constant (Default: 0.8)</span>
0029         crossoverProbability = 0.8
0030         <span class="comment">% differential evolution strategy (Default: searchStrategy.RandomWithPerVectorDither)</span>
0031         strategy = searchStrategy.RandomWithPerVectorDither.value
0032         <span class="comment">% Target Value (Default: 1)</span>
0033         targetValue = 1
0034         <span class="comment">% Maximum number of generations (Default: 500)</span>
0035         numGenerations = 500
0036 
0037         <span class="comment">% Number of live points for Nested Sampler (Default: 150)</span>
0038         nLive = 150
0039         nMCMC = 0
0040         propScale = 0.1     <span class="comment">% Used if MCMC is used</span>
0041         <span class="comment">% Target stopping tolerance for Nested Sampler (Default: 0.1)</span>
0042         nsTolerance = 0.1   
0043 
0044         <span class="comment">% Total number of samples for DREAM (Default: 50000)</span>
0045         nSamples = 50000;
0046         <span class="comment">% Number of MCMC chains (Default: 10)</span>
0047         nChains = 10
0048         <span class="comment">% Jump probabilities (Default: 0.5)</span>
0049         jumpProbability = 0.5      
0050         pUnitGamma = 0.2
0051         <span class="comment">% Boundary handling</span>
0052         boundHandling = boundHandlingOptions.Fold.value     
0053         adaptPCR = false;
0054     <span class="keyword">end</span>
0055 
0056     <span class="comment">%------------------------- Set and Get ------------------------------</span>
0057     methods
0058         <a name="_sub0" href="#_subfunctions" class="code">function obj = set.parallel(obj,val)</a>
0059             message = sprintf(<span class="string">'parallel must be a parallelOptions enum or one of the following strings (%s)'</span>, <span class="keyword">...</span>
0060                 strjoin(parallelOptions.values(), <span class="string">', '</span>));
0061             obj.parallel = validateOption(val, <span class="string">'parallelOptions'</span>, message).value;
0062 
0063         <span class="keyword">end</span>
0064 
0065         <a name="_sub1" href="#_subfunctions" class="code">function obj = set.procedure(obj,val)</a>
0066             message = sprintf(<span class="string">'procedure must be a procedures enum or one of the following strings (%s)'</span>, <span class="keyword">...</span>
0067                 strjoin(procedures.values(), <span class="string">', '</span>));
0068             obj.procedure = validateOption(val, <span class="string">'procedures'</span>, message).value;
0069         <span class="keyword">end</span>
0070 
0071         <a name="_sub2" href="#_subfunctions" class="code">function obj = set.calcSldDuringFit(obj,val)</a>
0072             validateLogical(val, <span class="string">'calcSldDuringFit must be logical ''true'' or ''false'''</span>);
0073             obj.calcSldDuringFit = val;
0074         <span class="keyword">end</span>
0075 
0076         <a name="_sub3" href="#_subfunctions" class="code">function obj = set.display(obj,val)</a>
0077             message = sprintf(<span class="string">'display must be a displayOptions enum or one of the following strings (%s)'</span>, <span class="keyword">...</span>
0078                 strjoin(displayOptions.values(), <span class="string">', '</span>));
0079             obj.display = validateOption(val, <span class="string">'displayOptions'</span>, message).value;
0080         <span class="keyword">end</span>
0081 
0082         <a name="_sub4" href="#_subfunctions" class="code">function obj = set.updatePlotFreq(obj, val)</a>
0083             validateNumber(val, <span class="string">'updatePlotFreq must be a number'</span>);
0084             <span class="keyword">if</span> val &lt; 1
0085                 throw(exceptions.invalidValue(<span class="string">'updatePlotFreq must be greater or equal to 1'</span>));
0086             <span class="keyword">end</span>
0087             obj.updatePlotFreq = val;
0088         <span class="keyword">end</span>
0089 
0090         <a name="_sub5" href="#_subfunctions" class="code">function obj = set.resampleParams(obj,val)</a>
0091             <span class="keyword">if</span> length(val) ~= 2
0092                 throw(exceptions.invalidValue(<span class="string">'resampleParams must have length of 2'</span>));
0093             <span class="keyword">end</span>
0094 
0095             validateNumber(val, <span class="string">'resampleParams must be a number array'</span>);
0096 
0097             <span class="keyword">if</span> (val(1) &lt; 0 || val(1) &gt; 1)
0098                 throw(exceptions.invalidValue(<span class="string">'resampleParams(0) must be between 0 and 1'</span>));
0099             <span class="keyword">end</span>
0100             <span class="keyword">if</span> val(2) &lt;= 0
0101                 throw(exceptions.invalidValue(<span class="string">'resampleParams(1) must be greater than 0'</span>));
0102             <span class="keyword">end</span>
0103             obj.resampleParams = val;
0104         <span class="keyword">end</span>
0105 
0106         <span class="comment">% Simplex control methods</span>
0107         <a name="_sub6" href="#_subfunctions" class="code">function obj = set.xTolerance(obj, val)</a>
0108             obj.xTolerance = validateNumber(val, <span class="string">'xTolerance must be a number'</span>);
0109         <span class="keyword">end</span>
0110 
0111         <a name="_sub7" href="#_subfunctions" class="code">function obj = set.funcTolerance(obj, val)</a>
0112             obj.funcTolerance = validateNumber(val, <span class="string">'funcTolerance must be a number'</span>);
0113         <span class="keyword">end</span>
0114 
0115         <a name="_sub8" href="#_subfunctions" class="code">function obj = set.maxFuncEvals(obj, val)</a>
0116             obj.maxFuncEvals = validateNumber(val, <span class="string">'maxFuncEvals must be a number'</span>);
0117         <span class="keyword">end</span>
0118 
0119         <a name="_sub9" href="#_subfunctions" class="code">function obj = set.maxIterations(obj, val)</a>
0120             obj.maxIterations = validateNumber(val, <span class="string">'maxIterations must be a number'</span>);
0121         <span class="keyword">end</span>
0122 
0123         <span class="comment">% DE controls methods</span>
0124         <a name="_sub10" href="#_subfunctions" class="code">function obj = set.populationSize(obj, val)</a>
0125             validateNumber(val, <span class="string">'populationSize must be a number'</span>);
0126             <span class="keyword">if</span> val &lt; 1
0127                 throw(exceptions.invalidValue(<span class="string">'populationSize must be greater or equal to 1'</span>));
0128             <span class="keyword">end</span>
0129             obj.populationSize = val;
0130         <span class="keyword">end</span>
0131 
0132         <a name="_sub11" href="#_subfunctions" class="code">function obj = set.fWeight(obj,val)</a>
0133             obj.fWeight = validateNumber(val,<span class="string">'fWeight must be a number'</span>);
0134         <span class="keyword">end</span>
0135 
0136         <a name="_sub12" href="#_subfunctions" class="code">function obj = set.crossoverProbability(obj,val)</a>
0137             validateNumber(val, <span class="string">'crossoverProbability must be a number'</span>);
0138             <span class="keyword">if</span> (val &lt; 0 || val &gt; 1)
0139                 throw(exceptions.invalidValue(<span class="string">'crossoverProbability must be between 0 and 1'</span>));
0140             <span class="keyword">end</span>
0141             obj.crossoverProbability = val;
0142         <span class="keyword">end</span>
0143 
0144         <a name="_sub13" href="#_subfunctions" class="code">function obj = set.strategy(obj,val)</a>
0145             message = sprintf(<span class="string">'strategy must be a searchStrategy enum or one of the following integers (%s)'</span>, <span class="keyword">...</span>
0146                 strjoin(string(searchStrategy.values()), <span class="string">', '</span>));
0147 
0148             obj.strategy = validateOption(val, <span class="string">'searchStrategy'</span>, message).value;
0149         <span class="keyword">end</span>
0150 
0151         <a name="_sub14" href="#_subfunctions" class="code">function obj = set.targetValue(obj,val)</a>
0152             validateNumber(val, <span class="string">'targetValue must be a number'</span>);
0153             <span class="keyword">if</span> val &lt; 1
0154                 throw(exceptions.invalidValue(<span class="string">'targetValue must be greater or equal to 1'</span>));
0155             <span class="keyword">end</span>
0156             obj.targetValue = val;
0157         <span class="keyword">end</span>
0158 
0159         <a name="_sub15" href="#_subfunctions" class="code">function obj = set.numGenerations(obj, val)</a>
0160             validateNumber(val, <span class="string">'numGenerations value must be a number'</span>);
0161             <span class="keyword">if</span> val &lt; 1
0162                 throw(exceptions.invalidValue(<span class="string">'numGenerations must be greater or equal to 1'</span>));
0163             <span class="keyword">end</span>
0164             obj.numGenerations = val;
0165         <span class="keyword">end</span>
0166 
0167         <span class="comment">% NS control methods</span>
0168         <a name="_sub16" href="#_subfunctions" class="code">function obj = set.nLive(obj, val)</a>
0169             validateNumber(val, <span class="string">'nLive must be a number'</span>);
0170             <span class="keyword">if</span> val &lt; 1
0171                 throw(exceptions.invalidValue(<span class="string">'nLive must be greater or equal to 1'</span>));
0172             <span class="keyword">end</span>
0173             obj.nLive = val;
0174         <span class="keyword">end</span>
0175 
0176         <a name="_sub17" href="#_subfunctions" class="code">function obj = set.nMCMC(obj, val)</a>
0177             validateNumber(val, <span class="string">'nMCMC must be a number'</span>);
0178             <span class="keyword">if</span> val &lt; 0
0179                 throw(exceptions.invalidValue(<span class="string">'nMCMC must be greater or equal than 0'</span>));
0180             <span class="keyword">end</span>
0181             obj.nMCMC = val;
0182         <span class="keyword">end</span>
0183 
0184         <a name="_sub18" href="#_subfunctions" class="code">function obj = set.propScale(obj, val)</a>
0185             validateNumber(val, <span class="string">'propScale must be a number'</span>);
0186             <span class="keyword">if</span> (val &lt; 0 || val &gt; 1)
0187                 throw(exceptions.invalidValue(<span class="string">'propScale must be between 0 and 1'</span>));
0188             <span class="keyword">end</span>
0189             obj.propScale = val;
0190         <span class="keyword">end</span>
0191 
0192         <a name="_sub19" href="#_subfunctions" class="code">function obj = set.nsTolerance(obj,val)</a>
0193             validateNumber(val, <span class="string">'nsTolerance must be a number '</span>);
0194             <span class="keyword">if</span> val &lt; 0
0195                 throw(exceptions.invalidValue(<span class="string">'nsTolerance must be greater or equal to 0'</span>));
0196             <span class="keyword">end</span>
0197             obj.nsTolerance = val;
0198         <span class="keyword">end</span>
0199 
0200         <span class="comment">% DREAM methods</span>
0201         <a name="_sub20" href="#_subfunctions" class="code">function obj = set.nSamples(obj,val)</a>
0202             validateNumber(val, <span class="string">'nSample must be a number '</span>);
0203             <span class="keyword">if</span> val &lt; 0
0204                 throw(exceptions.invalidValue(<span class="string">'nSample must be greater or equal to 0'</span>));
0205             <span class="keyword">end</span>
0206             obj.nSamples = val;
0207         <span class="keyword">end</span>
0208 
0209         <a name="_sub21" href="#_subfunctions" class="code">function obj = set.nChains(obj,val)</a>
0210             validateNumber(val, <span class="string">'nChains must be a number '</span>);
0211             <span class="keyword">if</span> (~(round(val) == val) || val &lt;= 0 || isnan(val) || isinf(val))
0212                 throw(exceptions.invalidValue(<span class="string">'nChains must be a finite integer greater than 0'</span>));
0213             <span class="keyword">end</span>
0214             obj.nChains = val;
0215         <span class="keyword">end</span>
0216 
0217         <a name="_sub22" href="#_subfunctions" class="code">function obj = set.jumpProbability(obj,val)</a>
0218             validateNumber(val, <span class="string">'jumpProbability must be a number'</span>);
0219             <span class="keyword">if</span> (val &lt; 0 || val &gt; 1)
0220                 throw(exceptions.invalidValue(<span class="string">'JumpProbability must be a fraction between 0 and 1'</span>));
0221             <span class="keyword">end</span>
0222             obj.jumpProbability = val;
0223         <span class="keyword">end</span>
0224 
0225         <a name="_sub23" href="#_subfunctions" class="code">function obj = set.pUnitGamma(obj,val)</a>
0226             validateNumber(val, <span class="string">'pUnitGamma must be a number'</span>);
0227             <span class="keyword">if</span> (val &lt; 0 || val &gt; 1)
0228                 throw(exceptions.invalidValue(<span class="string">'pUnitGamma must be a fraction between 0 and 1'</span>));
0229             <span class="keyword">end</span>
0230             obj.pUnitGamma = val;
0231         <span class="keyword">end</span>
0232 
0233         <a name="_sub24" href="#_subfunctions" class="code">function obj = set.boundHandling(obj,val)</a>
0234             message = sprintf(<span class="string">'boundHandling must be a boundHandlingOptions enum or one of the following strings (%s)'</span>, <span class="keyword">...</span>
0235                 strjoin(boundHandlingOptions.values(), <span class="string">', '</span>));
0236             obj.boundHandling = validateOption(val, <span class="string">'boundHandlingOptions'</span>, message).value;
0237         <span class="keyword">end</span>
0238 
0239         <a name="_sub25" href="#_subfunctions" class="code">function obj = set.adaptPCR(obj,val)</a>
0240             validateLogical(val, <span class="string">'adaptPCR must be logical ''true'' or ''false'''</span>);
0241             obj.adaptPCR = val;
0242         <span class="keyword">end</span>
0243 
0244 
0245         <a name="_sub26" href="#_subfunctions" class="code">function obj = setProcedure(obj, procedure, varargin)</a>
0246             <span class="comment">% Method sets the properties of the class based on the selected procedures.</span>
0247             <span class="comment">%</span>
0248             <span class="comment">% USAGE:</span>
0249             <span class="comment">%     obj.setProcedure(procedure, varargin)</span>
0250             <span class="comment">%</span>
0251             <span class="comment">% EXAMPLE:</span>
0252             <span class="comment">%     * obj.setProcedure('simplex', {'xTolerance', 1e-6, 'funcTolerance', 1e-6,'maxFuncEvals', 1000})</span>
0253             <span class="comment">%     * obj.setProcedure('dream')</span>
0254             <span class="comment">%     * obj.setProcedure('ns', {'nLive', 150,'nMCMC', 0, 'propScale', 0.1, 'nsTolerance', 0.1})</span>
0255 
0256             <span class="keyword">switch</span> procedure
0257 
0258                 <span class="keyword">case</span> procedures.Calculate.value
0259                     <span class="comment">% Parses the inputs and sets the object properties of</span>
0260                     <span class="comment">% the Calculate procedure</span>
0261                     <span class="keyword">if</span> ~isempty(varargin)
0262                         obj = obj.processCalculateInput(varargin{:});
0263                     <span class="keyword">end</span>
0264                     obj.procedure = procedures.Calculate.value;
0265 
0266                 <span class="keyword">case</span> procedures.Simplex.value
0267                     <span class="comment">% Parses the inputs and sets the object properties of</span>
0268                     <span class="comment">% the Simplex procedure</span>
0269                     <span class="keyword">if</span> ~isempty(varargin)
0270                         obj = obj.processSimplexInput(varargin{:});
0271                     <span class="keyword">end</span>
0272                     obj.procedure = procedures.Simplex.value;
0273 
0274                 <span class="keyword">case</span> procedures.DE.value
0275                     <span class="comment">% Parses the inputs and sets the object properties of</span>
0276                     <span class="comment">% the Differential Evolution procedure</span>
0277                     <span class="keyword">if</span> ~isempty(varargin)
0278                         obj = obj.processDEInput(varargin{:});
0279                     <span class="keyword">end</span>
0280                     obj.procedure = procedures.DE.value;
0281 
0282                 <span class="keyword">case</span> procedures.NS.value
0283                     <span class="comment">% Parses the inputs and sets the object properties of</span>
0284                     <span class="comment">% the Nested Sampler procedure</span>
0285                     <span class="keyword">if</span> ~isempty(varargin)
0286                         obj = obj.processNSInput(varargin{:});
0287                     <span class="keyword">end</span>
0288                     obj.procedure = procedures.NS.value;
0289 
0290                 <span class="keyword">case</span> procedures.Dream.value
0291                     <span class="comment">% Parses the inputs and sets the object properties of</span>
0292                     <span class="comment">% the DREAM procedure</span>
0293                     <span class="keyword">if</span> ~isempty(varargin)
0294                         obj = obj.processDreamInput(varargin{:});
0295                     <span class="keyword">end</span>
0296                     obj.procedure = procedures.Dream.value;
0297 
0298                 <span class="keyword">otherwise</span>
0299                     <span class="comment">% invalid procedure</span>
0300                     throw(exceptions.invalidValue(sprintf(<span class="string">'%s is not a supported procedure. The procedure must be a procedures enum or one of the following strings (%s)'</span>, procedure, strjoin(procedures.values(), <span class="string">', '</span>))));
0301 
0302             <span class="keyword">end</span>
0303 
0304         <span class="keyword">end</span>
0305     <span class="keyword">end</span>
0306 
0307     <span class="comment">%------------------------- Display Methods --------------------------</span>
0308     methods (Access = protected)
0309         <a name="_sub27" href="#_subfunctions" class="code">function groups = getPropertyGroups(obj)</a>
0310             masterPropList = struct(<span class="string">'parallel'</span>, {obj.parallel},<span class="keyword">...</span>
0311                 <span class="string">'procedure'</span>, {obj.procedure},<span class="keyword">...</span>
0312                 <span class="string">'calcSldDuringFit'</span>, {obj.calcSldDuringFit},<span class="keyword">...</span>
0313                 <span class="string">'display'</span>, {obj.display},<span class="keyword">...</span>
0314                 <span class="string">'xTolerance'</span>, {obj.xTolerance},<span class="keyword">...</span>
0315                 <span class="string">'funcTolerance'</span>, {obj.funcTolerance},<span class="keyword">...</span>
0316                 <span class="string">'maxFuncEvals'</span>, {obj.maxFuncEvals},<span class="keyword">...</span>
0317                 <span class="string">'maxIterations'</span>, {obj.maxIterations},<span class="keyword">...</span>
0318                 <span class="string">'updateFreq'</span>, {obj.updateFreq},<span class="keyword">...</span>
0319                 <span class="string">'updatePlotFreq'</span>, {obj.updatePlotFreq},<span class="keyword">...</span>
0320                 <span class="string">'populationSize'</span>, {obj.populationSize},<span class="keyword">...</span>
0321                 <span class="string">'fWeight'</span>, {obj.fWeight},<span class="keyword">...</span>
0322                 <span class="string">'crossoverProbability'</span>, {obj.crossoverProbability},<span class="keyword">...</span>
0323                 <span class="string">'strategy'</span>, {obj.strategy},<span class="keyword">...</span>
0324                 <span class="string">'targetValue'</span>, {obj.targetValue},<span class="keyword">...</span>
0325                 <span class="string">'numGenerations'</span>, {obj.numGenerations},<span class="keyword">...</span>
0326                 <span class="string">'nLive'</span>, {obj.nLive},<span class="keyword">...</span>
0327                 <span class="string">'nMCMC'</span>, {obj.nMCMC},<span class="keyword">...</span>
0328                 <span class="string">'propScale'</span>, {obj.propScale},<span class="keyword">...</span>
0329                 <span class="string">'nsTolerance'</span>, {obj.nsTolerance},<span class="keyword">...</span>
0330                 <span class="string">'resampleParams'</span>, {obj.resampleParams},<span class="keyword">...</span>
0331                 <span class="string">'nSamples'</span>, {obj.nSamples},<span class="keyword">...</span>
0332                 <span class="string">'nChains'</span>, {obj.nChains},<span class="keyword">...</span>
0333                 <span class="string">'jumpProbability'</span>, {obj.jumpProbability},<span class="keyword">...</span>
0334                 <span class="string">'pUnitGamma'</span>, {obj.pUnitGamma},<span class="keyword">...</span>
0335                 <span class="string">'boundHandling'</span>, {obj.boundHandling},<span class="keyword">...</span>
0336                 <span class="string">'adaptPCR'</span>, {obj.adaptPCR});
0337 
0338             simplexCell = {<span class="string">'xTolerance'</span>,<span class="keyword">...</span>
0339                 <span class="string">'funcTolerance'</span>,<span class="keyword">...</span>
0340                 <span class="string">'maxFuncEvals'</span>,<span class="keyword">...</span>
0341                 <span class="string">'maxIterations'</span>,<span class="keyword">...</span>
0342                 <span class="string">'updateFreq'</span>,<span class="keyword">...</span>
0343                 <span class="string">'updatePlotFreq'</span>};
0344 
0345             deCell = {<span class="string">'populationSize'</span>,<span class="keyword">...</span>
0346                 <span class="string">'fWeight'</span>,<span class="keyword">...</span>
0347                 <span class="string">'crossoverProbability'</span>,<span class="keyword">...</span>
0348                 <span class="string">'strategy'</span>,<span class="keyword">...</span>
0349                 <span class="string">'targetValue'</span>,<span class="keyword">...</span>
0350                 <span class="string">'numGenerations'</span>};
0351 
0352             nsCell = {<span class="string">'nLive'</span>,<span class="keyword">...</span>
0353                 <span class="string">'nMCMC'</span>,<span class="keyword">...</span>
0354                 <span class="string">'propScale'</span>,<span class="keyword">...</span>
0355                 <span class="string">'nsTolerance'</span>};
0356 
0357             dreamCell = {<span class="string">'nSamples'</span>,<span class="keyword">...</span>
0358                 <span class="string">'nChains'</span>,<span class="keyword">...</span>
0359                 <span class="string">'jumpProbability'</span>,<span class="keyword">...</span>
0360                 <span class="string">'pUnitGamma'</span>,<span class="keyword">...</span>
0361                 <span class="string">'boundHandling'</span>,<span class="keyword">...</span>
0362                 <span class="string">'adaptPCR'</span>};
0363 
0364             <span class="keyword">if</span> isscalar(obj)
0365                 dispPropList = masterPropList;
0366                 <span class="keyword">if</span> strcmpi(obj.procedure, <span class="string">'calculate'</span>)
0367                     dispPropList = rmfield(masterPropList, [deCell, simplexCell, nsCell, dreamCell]);
0368                 <span class="keyword">elseif</span> strcmpi(obj.procedure, <span class="string">'simplex'</span>)
0369                     dispPropList = rmfield(masterPropList, [deCell, nsCell, dreamCell]);
0370                 <span class="keyword">elseif</span> strcmpi(obj.procedure, <span class="string">'de'</span>)
0371                     dispPropList = rmfield(masterPropList, [simplexCell, nsCell, dreamCell]);
0372                 <span class="keyword">elseif</span> strcmpi(obj.procedure, <span class="string">'ns'</span>)
0373                     dispPropList = rmfield(masterPropList, [simplexCell, deCell, dreamCell]);
0374                 <span class="keyword">elseif</span> strcmpi(obj.procedure, <span class="string">'dream'</span>)
0375                     dispPropList = rmfield(masterPropList, [simplexCell, deCell, nsCell]);
0376                 <span class="keyword">end</span>
0377                 groups = matlab.mixin.util.PropertyGroup(dispPropList);
0378             <span class="keyword">else</span>
0379                 groups = <a href="#_sub28" class="code" title="subfunction groups = getPropertyGroups(obj)">getPropertyGroups</a>@matlab.mixin.CustomDisplay(obj);
0380             <span class="keyword">end</span>
0381         <span class="keyword">end</span>
0382     <span class="keyword">end</span>
0383 
0384     <span class="comment">%------------------------- Parsing Methods --------------------------</span>
0385     methods (Access = private)
0386 
0387         <a name="_sub28" href="#_subfunctions" class="code">function obj = processCalculateInput(obj, varargin)</a>
0388             <span class="comment">% Parses calculate keyword/value pairs and sets the properties of the class.</span>
0389             <span class="comment">%</span>
0390             <span class="comment">% obj.processCalculateInput('param', 'value')</span>
0391             <span class="comment">%</span>
0392             <span class="comment">% The parameters that can be set when using calculate procedure are</span>
0393             <span class="comment">% 1) parallel</span>
0394             <span class="comment">% 2) calcSldDuringFit</span>
0395             <span class="comment">% 3) resampleParams</span>
0396             <span class="comment">% 4) display</span>
0397 
0398             <span class="comment">% The default values for Calculate</span>
0399             defaultParallel = parallelOptions.Single.value;
0400             defaultCalcSldDuringFit = false;
0401             defaultResampleParams = [0.9 50];
0402             defaultDisplay = displayOptions.Iter.value;
0403 
0404             <span class="comment">% Creates the input parser for the calculate parameters</span>
0405             p = inputParser;
0406             addParameter(p,<span class="string">'parallel'</span>,  defaultParallel,   @(x) isText(x) || isenum(x));
0407             addParameter(p,<span class="string">'calcSldDuringFit'</span>,   defaultCalcSldDuringFit,    @islogical);
0408             addParameter(p,<span class="string">'resampleParams'</span>, defaultResampleParams,  @isnumeric);
0409             addParameter(p,<span class="string">'display'</span>,   defaultDisplay,    @(x) isText(x) || isenum(x));
0410             properties = varargin{:};
0411 
0412             <span class="comment">% Parses the input or raises invalidOption error</span>
0413             errorMsg = <span class="string">'Only parallel, calcSldDuringFit, resampleParams and display can be set while using the Calculate procedure'</span>;
0414             inputBlock = obj.parseInputs(p, properties, errorMsg);
0415 
0416             <span class="comment">% Sets the values the for Calculate parameters</span>
0417             obj.parallel = inputBlock.parallel;
0418             obj.calcSldDuringFit = inputBlock.calcSldDuringFit;
0419             obj.resampleParams = inputBlock.resampleParams;
0420             obj.display = inputBlock.display;
0421         <span class="keyword">end</span>
0422 
0423         <a name="_sub29" href="#_subfunctions" class="code">function obj = processSimplexInput(obj, varargin)</a>
0424             <span class="comment">% Parses simplex keyword/value pairs and sets the properties of the class.</span>
0425             <span class="comment">%</span>
0426             <span class="comment">% obj.parseSimplexInput('param', 'value')</span>
0427             <span class="comment">%</span>
0428             <span class="comment">% The parameters that can be set when using simplex procedure are</span>
0429             <span class="comment">% 1) xTolerance</span>
0430             <span class="comment">% 2) funcTolerance</span>
0431             <span class="comment">% 3) maxFuncEvals</span>
0432             <span class="comment">% 4) maxIterations</span>
0433             <span class="comment">% 5) updateFreq</span>
0434             <span class="comment">% 6) updatePlotFreq</span>
0435             <span class="comment">% 7) parallel</span>
0436             <span class="comment">% 8) calcSldDuringFit</span>
0437             <span class="comment">% 9) resampleParams</span>
0438             <span class="comment">% 10) display</span>
0439 
0440             <span class="comment">% The simplex default values</span>
0441             defaultXTolerance = 1e-6;
0442             defaultFuncTolerance = 1e-6;
0443             defaultMaxFuncEvals = 10000;
0444             defaultMaxIterations = 1000;
0445             defaultUpdateFreq = -1;
0446             defaultUpdatePlotFreq = 1;
0447             defaultParallel = parallelOptions.Single.value;
0448             defaultCalcSldDuringFit = false;
0449             defaultResampleParams = [0.9 50];
0450             defaultDisplay = displayOptions.Iter.value;
0451 
0452             <span class="comment">% Parses the input for simplex parameters</span>
0453             p = inputParser;
0454             addParameter(p,<span class="string">'xTolerance'</span>,  defaultXTolerance,   @isnumeric);
0455             addParameter(p,<span class="string">'funcTolerance'</span>,   defaultFuncTolerance,    @isnumeric);
0456             addParameter(p,<span class="string">'maxFuncEvals'</span>, defaultMaxFuncEvals,  @isnumeric);
0457             addParameter(p,<span class="string">'maxIterations'</span>,   defaultMaxIterations,    @isnumeric);
0458             addParameter(p,<span class="string">'updateFreq'</span>,   defaultUpdateFreq,    @isnumeric);
0459             addParameter(p,<span class="string">'updatePlotFreq'</span>,   defaultUpdatePlotFreq,    @isnumeric);
0460             addParameter(p,<span class="string">'parallel'</span>,  defaultParallel,   @(x) isText(x) || isenum(x));
0461             addParameter(p,<span class="string">'calcSldDuringFit'</span>,   defaultCalcSldDuringFit,    @islogical);
0462             addParameter(p,<span class="string">'resampleParams'</span>, defaultResampleParams,  @isnumeric);
0463             addParameter(p,<span class="string">'display'</span>,   defaultDisplay,    @(x) isText(x) || isenum(x));
0464             properties = varargin{:};
0465 
0466             <span class="comment">% Parses the input or raises invalidOption error</span>
0467             errorMsg = <span class="string">'Only xTolerance, funcTolerance, maxFuncEvals, maxIterations, updateFreq, updatePlotFreq, parallel, calcSldDuringFit, resampleParams and display can be set while using the Simplex procedure.'</span>;
0468             inputBlock = obj.parseInputs(p, properties, errorMsg);
0469 
0470             <span class="comment">% Sets the values the for simplex parameters</span>
0471             obj.xTolerance = inputBlock.xTolerance;
0472             obj.funcTolerance = inputBlock.funcTolerance;
0473             obj.maxFuncEvals = inputBlock.maxFuncEvals;
0474             obj.maxIterations = inputBlock.maxIterations;
0475             obj.updateFreq = inputBlock.updateFreq;
0476             obj.updatePlotFreq = inputBlock.updatePlotFreq;
0477             obj.parallel = inputBlock.parallel;
0478             obj.calcSldDuringFit = inputBlock.calcSldDuringFit;
0479             obj.resampleParams = inputBlock.resampleParams;
0480             obj.display = inputBlock.display;
0481         <span class="keyword">end</span>
0482 
0483         <a name="_sub30" href="#_subfunctions" class="code">function obj = processDEInput(obj, varargin)</a>
0484             <span class="comment">% Parses differential evolution keyword/value pairs and sets the properties of the class.</span>
0485             <span class="comment">%</span>
0486             <span class="comment">% obj.processDEInput('param', 'value')</span>
0487             <span class="comment">%</span>
0488             <span class="comment">% The parameters that can be set when using de procedure are</span>
0489             <span class="comment">% 1) populationSize</span>
0490             <span class="comment">% 2) fWeight</span>
0491             <span class="comment">% 3) crossoverProbability</span>
0492             <span class="comment">% 4) strategy</span>
0493             <span class="comment">% 5) targetValue</span>
0494             <span class="comment">% 6) numGenerations</span>
0495             <span class="comment">% 7) parallel</span>
0496             <span class="comment">% 8) calcSldDuringFit</span>
0497             <span class="comment">% 9) resampleParams</span>
0498             <span class="comment">% 10) display</span>
0499 
0500             <span class="comment">% The default values for DE</span>
0501             defaultPopulationSize = 20;
0502             defaultFWeight = 0.5;
0503             defaultCrossoverProbability = 0.8;
0504             defaultStrategy = 4;
0505             defaultTargetValue = 1;
0506             defaultNumGenerations = 500;
0507             defaultParallel = parallelOptions.Single.value;
0508             defaultCalcSldDuringFit = false;
0509             defaultResampleParams = [0.9 50];
0510             defaultDisplay = displayOptions.Iter.value;
0511 
0512             <span class="comment">% Creates the input parser for the DE parameters</span>
0513             p = inputParser;
0514             addParameter(p,<span class="string">'populationSize'</span>,  defaultPopulationSize,   @isnumeric);
0515             addParameter(p,<span class="string">'fWeight'</span>,   defaultFWeight,    @isnumeric);
0516             addParameter(p,<span class="string">'crossoverProbability'</span>, defaultCrossoverProbability,  @isnumeric);
0517             addParameter(p,<span class="string">'strategy'</span>,   defaultStrategy,    @isnumeric);
0518             addParameter(p,<span class="string">'targetValue'</span>,   defaultTargetValue,    @isnumeric);
0519             addParameter(p,<span class="string">'numGenerations'</span>,   defaultNumGenerations,    @isnumeric);
0520             addParameter(p,<span class="string">'parallel'</span>,  defaultParallel,   @(x) isText(x) || isenum(x));
0521             addParameter(p,<span class="string">'calcSldDuringFit'</span>,   defaultCalcSldDuringFit,    @islogical);
0522             addParameter(p,<span class="string">'resampleParams'</span>, defaultResampleParams,  @isnumeric);
0523             addParameter(p,<span class="string">'display'</span>,   defaultDisplay,    @(x) isText(x) || isenum(x));
0524             properties = varargin{:};
0525 
0526             <span class="comment">% Parses the input or raises invalidOption error</span>
0527             errorMsg = <span class="string">'Only populationSize, fWeight, crossoverProbability, strategy, targetValue, numGenerations, parallel, calcSldDuringFit, resampleParams and display can be set while using the Differential Evolution procedure'</span>;
0528             inputBlock = obj.parseInputs(p, properties, errorMsg);
0529 
0530             <span class="comment">% Sets the values the for DE parameters</span>
0531             obj.populationSize = inputBlock.populationSize;
0532             obj.fWeight = inputBlock.fWeight;
0533             obj.crossoverProbability = inputBlock.crossoverProbability;
0534             obj.strategy = inputBlock.strategy;
0535             obj.targetValue = inputBlock.targetValue;
0536             obj.numGenerations = inputBlock.numGenerations;
0537             obj.parallel = inputBlock.parallel;
0538             obj.calcSldDuringFit = inputBlock.calcSldDuringFit;
0539             obj.resampleParams = inputBlock.resampleParams;
0540             obj.display = inputBlock.display;
0541         <span class="keyword">end</span>
0542 
0543         <a name="_sub31" href="#_subfunctions" class="code">function obj = processNSInput(obj, varargin)</a>
0544             <span class="comment">% Parses nested sampler keyword/value pairs and sets the properties of the class.</span>
0545             <span class="comment">%</span>
0546             <span class="comment">% obj.processNSInput('param', 'value')</span>
0547             <span class="comment">%</span>
0548             <span class="comment">% The parameters that can be set when using nested sampler procedure are</span>
0549             <span class="comment">% 1) nLive</span>
0550             <span class="comment">% 2) nMCMC</span>
0551             <span class="comment">% 3) propScale</span>
0552             <span class="comment">% 4) nsTolerance</span>
0553             <span class="comment">% 5) parallel</span>
0554             <span class="comment">% 6) calcSldDuringFit</span>
0555             <span class="comment">% 7) resampleParams</span>
0556             <span class="comment">% 8) display</span>
0557 
0558             <span class="comment">% The default values for NS</span>
0559             defaultnLive = 150;
0560             defaultnMCMC = 0;
0561             defaultPropScale = 0.1;
0562             defaultNsTolerance = 0.1;
0563             defaultParallel = parallelOptions.Single.value;
0564             defaultCalcSldDuringFit = false;
0565             defaultResampleParams = [0.9 50];
0566             defaultDisplay = displayOptions.Iter.value;
0567 
0568             <span class="comment">% Creates the input parser for the NS parameters</span>
0569             p = inputParser;
0570             addParameter(p,<span class="string">'nLive'</span>,  defaultnLive,   @isnumeric);
0571             addParameter(p,<span class="string">'nMCMC'</span>,   defaultnMCMC,    @isnumeric);
0572             addParameter(p,<span class="string">'propScale'</span>, defaultPropScale,  @isnumeric);
0573             addParameter(p,<span class="string">'nsTolerance'</span>,   defaultNsTolerance,    @isnumeric);
0574             addParameter(p,<span class="string">'parallel'</span>,  defaultParallel,   @(x) isText(x) || isenum(x));
0575             addParameter(p,<span class="string">'calcSldDuringFit'</span>,   defaultCalcSldDuringFit,    @islogical);
0576             addParameter(p,<span class="string">'resampleParams'</span>, defaultResampleParams,  @isnumeric);
0577             addParameter(p,<span class="string">'display'</span>,   defaultDisplay,    @(x) isText(x) || isenum(x));
0578             properties = varargin{:};
0579 
0580             <span class="comment">% Parses the input or raises invalidOption error</span>
0581             errorMsg = <span class="string">'Only nLive, nMCMC, propScale, nsTolerance, parallel, calcSldDuringFit, resampleParams and display can be set while using the Nested Sampler procedure'</span>;
0582             inputBlock = obj.parseInputs(p, properties, errorMsg);
0583 
0584             <span class="comment">% Sets the values the for NS parameters</span>
0585             obj.nLive = inputBlock.nLive;
0586             obj.nMCMC = inputBlock.nMCMC;
0587             obj.propScale = inputBlock.propScale;
0588             obj.nsTolerance = inputBlock.nsTolerance;
0589             obj.parallel = inputBlock.parallel;
0590             obj.calcSldDuringFit = inputBlock.calcSldDuringFit;
0591             obj.resampleParams = inputBlock.resampleParams;
0592             obj.display = inputBlock.display;
0593         <span class="keyword">end</span>
0594 
0595         <a name="_sub32" href="#_subfunctions" class="code">function obj = processDreamInput(obj, varargin)</a>
0596             <span class="comment">% Parses Dream keyword/value pairs and sets the properties of the class.</span>
0597             <span class="comment">%</span>
0598             <span class="comment">% obj.processDreamInput('param', 'value')</span>
0599             <span class="comment">%</span>
0600             <span class="comment">% The parameters that can be set when using Dream procedure are</span>
0601             <span class="comment">% 1) nSamples</span>
0602             <span class="comment">% 2) nChains</span>
0603             <span class="comment">% 3) jumpProbability</span>
0604             <span class="comment">% 4) pUnitGamma</span>
0605             <span class="comment">% 5) boundHandling</span>
0606             <span class="comment">% 6) adaptPCR</span>
0607             <span class="comment">% 7) parallel</span>
0608             <span class="comment">% 8) calcSldDuringFit</span>
0609             <span class="comment">% 9) resampleParams</span>
0610             <span class="comment">% 10) display</span>
0611 
0612             <span class="comment">% The default values for Dream</span>
0613             defaultNSamples = 50000;
0614             defaultNChains = 10;
0615             defaultJumpProbability = 0.5;
0616             defaultPUnitGamma = 0.2;
0617             defaultBoundHandling = boundHandlingOptions.Fold.value;
0618             defaultAdaptPCR = false;
0619             defaultParallel = parallelOptions.Single.value;
0620             defaultCalcSldDuringFit = false;
0621             defaultResampleParams = [0.9 50];
0622             defaultDisplay = displayOptions.Iter.value;
0623 
0624             <span class="comment">% Creates the input parser for the Dream parameters</span>
0625             p = inputParser;
0626             addParameter(p,<span class="string">'nSamples'</span>,  defaultNSamples,   @isnumeric);
0627             addParameter(p,<span class="string">'nChains'</span>,   defaultNChains,    @isnumeric);
0628             addParameter(p,<span class="string">'jumpProbability'</span>, defaultJumpProbability,  @isnumeric);
0629             addParameter(p,<span class="string">'pUnitGamma'</span>,   defaultPUnitGamma,    @isnumeric);
0630             addParameter(p,<span class="string">'boundHandling'</span>,   defaultBoundHandling, @(x) isText(x) || isenum(x));
0631             addParameter(p,<span class="string">'adaptPCR'</span>, defaultAdaptPCR, @islogical);
0632             addParameter(p,<span class="string">'parallel'</span>,  defaultParallel,   @(x) isText(x) || isenum(x));
0633             addParameter(p,<span class="string">'calcSldDuringFit'</span>,   defaultCalcSldDuringFit,    @islogical);
0634             addParameter(p,<span class="string">'resampleParams'</span>, defaultResampleParams,  @isnumeric);
0635             addParameter(p,<span class="string">'display'</span>,   defaultDisplay,    @(x) isText(x) || isenum(x));
0636             properties = varargin{:};
0637 
0638             <span class="comment">% Parses the input or raises invalidOption error</span>
0639             errorMsg = <span class="string">'Only nSamples, nChains, jumpProbability, pUnitGamma, boundHandling, adaptPCR, parallel, calcSldDuringFit, resampleParams and display can be set while using the DREAM procedure'</span>;
0640             inputBlock = obj.parseInputs(p, properties, errorMsg);
0641 
0642             <span class="comment">% Sets the values the for Dream parameters</span>
0643             obj.nSamples = inputBlock.nSamples;
0644             obj.nChains = inputBlock.nChains;
0645             obj.jumpProbability = inputBlock.jumpProbability;
0646             obj.pUnitGamma = inputBlock.pUnitGamma;
0647             obj.boundHandling = inputBlock.boundHandling;
0648             obj.adaptPCR = inputBlock.adaptPCR;
0649             obj.parallel = inputBlock.parallel;
0650             obj.calcSldDuringFit = inputBlock.calcSldDuringFit;
0651             obj.resampleParams = inputBlock.resampleParams;
0652             obj.display = inputBlock.display;
0653         <span class="keyword">end</span>
0654 
0655         <a name="_sub33" href="#_subfunctions" class="code">function inputBlock = parseInputs(~, p, properties, errorMsg)</a>
0656             <span class="comment">% Parses the input or raises invalidOption error</span>
0657             <span class="keyword">try</span>
0658                 parse(p, properties{:});
0659                 inputBlock = p.Results;
0660             <span class="keyword">catch</span> ME
0661                 <span class="keyword">if</span> (strcmp(ME.identifier,<span class="string">'MATLAB:InputParser:UnmatchedParameter'</span>))
0662                     throw(exceptions.invalidOption(errorMsg));
0663                 <span class="keyword">else</span>
0664                     rethrow(ME)
0665                 <span class="keyword">end</span>
0666             <span class="keyword">end</span>
0667         <span class="keyword">end</span>
0668 
0669     <span class="keyword">end</span>
0670 <span class="keyword">end</span>
</pre></div>

<hr><address>Generated on Fri 22-Mar-2024 15:09:58 by <strong><a href="https://github.com/gllmflndn/m2html">m2html</a></strong> &copy; 2003-2022</address>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of controlsClass</title>
  <meta name="keywords" content="controlsClass">
  <meta name="description" content="">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003-2019 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- menu.html API -->

<h1>controlsClass
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong></strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="controlsClass.html" class="code" title="">controlsClass</a>	</li>
</ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="controlsClass.html" class="code" title="">controlsClass</a>	</li>
</ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="#_sub1" class="code">function obj = set.parallel(obj,val)</a></li>
<li><a href="#_sub2" class="code">function obj = set.procedure(obj,val)</a></li>
<li><a href="#_sub3" class="code">function obj = set.calcSldDuringFit(obj,val)</a></li>
<li><a href="#_sub4" class="code">function obj = set.display(obj,val)</a></li>
<li><a href="#_sub5" class="code">function obj = set.updatePlotFreq(obj, val)</a></li>
<li><a href="#_sub6" class="code">function obj = set.resampleParams(obj,val)</a></li>
<li><a href="#_sub7" class="code">function obj = set.xTolerance(obj, val)</a></li>
<li><a href="#_sub8" class="code">function obj = set.funcTolerance(obj, val)</a></li>
<li><a href="#_sub9" class="code">function obj = set.maxFuncEvals(obj, val)</a></li>
<li><a href="#_sub10" class="code">function obj = set.maxIterations(obj, val)</a></li>
<li><a href="#_sub11" class="code">function obj = set.populationSize(obj, val)</a></li>
<li><a href="#_sub12" class="code">function obj = set.fWeight(obj,val)</a></li>
<li><a href="#_sub13" class="code">function obj = set.crossoverProbability(obj,val)</a></li>
<li><a href="#_sub14" class="code">function obj = set.strategy(obj,val)</a></li>
<li><a href="#_sub15" class="code">function obj = set.targetValue(obj,val)</a></li>
<li><a href="#_sub16" class="code">function obj = set.numGenerations(obj, val)</a></li>
<li><a href="#_sub17" class="code">function obj = set.nLive(obj, val)</a></li>
<li><a href="#_sub18" class="code">function obj = set.nMCMC(obj, val)</a></li>
<li><a href="#_sub19" class="code">function obj = set.propScale(obj, val)</a></li>
<li><a href="#_sub20" class="code">function obj = set.nsTolerance(obj,val)</a></li>
<li><a href="#_sub21" class="code">function obj = set.nSamples(obj,val)</a></li>
<li><a href="#_sub22" class="code">function obj = set.nChains(obj,val)</a></li>
<li><a href="#_sub23" class="code">function obj = set.jumpProbability(obj,val)</a></li>
<li><a href="#_sub24" class="code">function obj = set.pUnitGamma(obj,val)</a></li>
<li><a href="#_sub25" class="code">function obj = set.boundHandling(obj,val)</a></li>
<li><a href="#_sub26" class="code">function obj = set.adaptPCR(obj,val)</a></li>
<li><a href="#_sub27" class="code">function obj = setProcedure(obj, procedure, varargin)</a></li>
<li><a href="#_sub28" class="code">function groups = getPropertyGroups(obj)</a></li>
<li><a href="#_sub29" class="code">function obj = processCalculateInput(obj, varargin)</a></li>
<li><a href="#_sub30" class="code">function obj = processSimplexInput(obj, varargin)</a></li>
<li><a href="#_sub31" class="code">function obj = processDEInput(obj, varargin)</a></li>
<li><a href="#_sub32" class="code">function obj = processNSInput(obj, varargin)</a></li>
<li><a href="#_sub33" class="code">function obj = processDreamInput(obj, varargin)</a></li>
<li><a href="#_sub34" class="code">function inputBlock = parseInputs(~, p, properties, errorMsg)</a></li>
</ul>


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 classdef <a href="controlsClass.html" class="code" title="">controlsClass</a> &lt; matlab.mixin.CustomDisplay
0002 
0003     properties
0004         <span class="comment">% Parallelisation Option (Default: parallelOptions.Single)</span>
0005         parallel = parallelOptions.Single.value
0006         <span class="comment">% Optimization procedure (Default: procedures.Calculate)</span>
0007         procedure = procedures.Calculate.value
0008         <span class="comment">% Indicates if SLD should be calculated (Default: false)</span>
0009         calcSldDuringFit = false
0010         resampleParams = [0.9 50]
0011         <span class="comment">% Display Option (Default: displayOptions.Iter)</span>
0012         display = displayOptions.Iter.value
0013 
0014         <span class="comment">% optimization tolerance for simplex (Default: 1e-6)</span>
0015         xTolerance = 1e-6    
0016         funcTolerance = 1e-6
0017         <span class="comment">% Maximum number of function evaluations for simplex  (Default: 10000)</span>
0018         maxFuncEvals = 10000
0019         <span class="comment">% Maximum number of iterations for simplex  (Default: 1000)</span>
0020         maxIterations = 1000
0021         updateFreq = -1
0022         updatePlotFreq = 1
0023         
0024         <span class="comment">% Differential Evolution population size (Default: 20)</span>
0025         populationSize = 20
0026         <span class="comment">% Differential weight (Default: 0.5)</span>
0027         fWeight = 0.5
0028         <span class="comment">% The crossover probability or recombination constant (Default: 0.8)</span>
0029         crossoverProbability = 0.8
0030         <span class="comment">% differential evolution strategy (Default: searchStrategy.RandomWithPerVectorDither)</span>
0031         strategy = searchStrategy.RandomWithPerVectorDither.value
0032         <span class="comment">% Target Value (Default: 1)</span>
0033         targetValue = 1
0034         <span class="comment">% Maximum number of generations (Default: 500)</span>
0035         numGenerations = 500
0036 
0037         <span class="comment">% Number of live points for Nested Sampler (Default: 150)</span>
0038         nLive = 150
0039         nMCMC = 0
0040         propScale = 0.1     <span class="comment">% Used if MCMC is used</span>
0041         <span class="comment">% Target stopping tolerance for Nested Sampler (Default: 0.1)</span>
0042         nsTolerance = 0.1   
0043 
0044         <span class="comment">% Total number of samples for DREAM (Default: 50000)</span>
0045         nSamples = 50000;
0046         <span class="comment">% Number of MCMC chains (Default: 10)</span>
0047         nChains = 10
0048         <span class="comment">% Jump probabilities (Default: 0.5)</span>
0049         jumpProbability = 0.5      
0050         pUnitGamma = 0.2
0051         <span class="comment">% Boundary handling</span>
0052         boundHandling = boundHandlingOptions.Fold.value     
0053         adaptPCR = false;
0054     <span class="keyword">end</span>
0055 
0056     <span class="comment">%------------------------- Set and Get ------------------------------</span>
0057     methods
0058         <a name="_sub0" href="#_subfunctions" class="code">function obj = set.parallel(obj,val)</a>
0059             message = sprintf(<span class="string">'parallel must be a parallelOptions enum or one of the following strings (%s)'</span>, <span class="keyword">...</span>
0060                 strjoin(parallelOptions.values(), <span class="string">', '</span>));
0061             obj.parallel = validateOption(val, <span class="string">'parallelOptions'</span>, message).value;
0062         <span class="keyword">end</span>
0063 
0064         <a name="_sub1" href="#_subfunctions" class="code">function obj = set.procedure(obj,val)</a>
0065             message = sprintf(<span class="string">'procedure must be a procedures enum or one of the following strings (%s)'</span>, <span class="keyword">...</span>
0066                 strjoin(procedures.values(), <span class="string">', '</span>));
0067             obj.procedure = validateOption(val, <span class="string">'procedures'</span>, message).value;
0068         <span class="keyword">end</span>
0069 
0070         <a name="_sub2" href="#_subfunctions" class="code">function obj = set.calcSldDuringFit(obj,val)</a>
0071             validateLogical(val, <span class="string">'calcSldDuringFit must be logical ''true'' or ''false'''</span>);
0072             obj.calcSldDuringFit = val;
0073         <span class="keyword">end</span>
0074 
0075         <a name="_sub3" href="#_subfunctions" class="code">function obj = set.display(obj,val)</a>
0076             message = sprintf(<span class="string">'display must be a displayOptions enum or one of the following strings (%s)'</span>, <span class="keyword">...</span>
0077                 strjoin(displayOptions.values(), <span class="string">', '</span>));
0078             obj.display = validateOption(val, <span class="string">'displayOptions'</span>, message).value;
0079         <span class="keyword">end</span>
0080 
0081         <a name="_sub4" href="#_subfunctions" class="code">function obj = set.updatePlotFreq(obj, val)</a>
0082             validateNumber(val, <span class="string">'updatePlotFreq must be a number'</span>);
0083             <span class="keyword">if</span> val &lt; 1
0084                 throw(exceptions.invalidValue(<span class="string">'updatePlotFreq must be greater or equal to 1'</span>));
0085             <span class="keyword">end</span>
0086             obj.updatePlotFreq = val;
0087         <span class="keyword">end</span>
0088 
0089         <a name="_sub5" href="#_subfunctions" class="code">function obj = set.resampleParams(obj,val)</a>
0090             <span class="keyword">if</span> length(val) ~= 2
0091                 throw(exceptions.invalidValue(<span class="string">'resampleParams must have length of 2'</span>));
0092             <span class="keyword">end</span>
0093 
0094             validateNumber(val, <span class="string">'resampleParams must be a number array'</span>);
0095 
0096             <span class="keyword">if</span> (val(1) &lt; 0 || val(1) &gt; 1)
0097                 throw(exceptions.invalidValue(<span class="string">'resampleParams(0) must be between 0 and 1'</span>));
0098             <span class="keyword">end</span>
0099             <span class="keyword">if</span> val(2) &lt;= 0
0100                 throw(exceptions.invalidValue(<span class="string">'resampleParams(1) must be greater than 0'</span>));
0101             <span class="keyword">end</span>
0102             obj.resampleParams = val;
0103         <span class="keyword">end</span>
0104 
0105         <span class="comment">% Simplex control methods</span>
0106         <a name="_sub6" href="#_subfunctions" class="code">function obj = set.xTolerance(obj, val)</a>
0107             obj.xTolerance = validateNumber(val, <span class="string">'xTolerance must be a number'</span>);
0108         <span class="keyword">end</span>
0109 
0110         <a name="_sub7" href="#_subfunctions" class="code">function obj = set.funcTolerance(obj, val)</a>
0111             obj.funcTolerance = validateNumber(val, <span class="string">'funcTolerance must be a number'</span>);
0112         <span class="keyword">end</span>
0113 
0114         <a name="_sub8" href="#_subfunctions" class="code">function obj = set.maxFuncEvals(obj, val)</a>
0115             obj.maxFuncEvals = validateNumber(val, <span class="string">'maxFuncEvals must be a number'</span>);
0116         <span class="keyword">end</span>
0117 
0118         <a name="_sub9" href="#_subfunctions" class="code">function obj = set.maxIterations(obj, val)</a>
0119             obj.maxIterations = validateNumber(val, <span class="string">'maxIterations must be a number'</span>);
0120         <span class="keyword">end</span>
0121 
0122         <span class="comment">% DE controls methods</span>
0123         <a name="_sub10" href="#_subfunctions" class="code">function obj = set.populationSize(obj, val)</a>
0124             validateNumber(val, <span class="string">'populationSize must be a number'</span>);
0125             <span class="keyword">if</span> val &lt; 1
0126                 throw(exceptions.invalidValue(<span class="string">'populationSize must be greater or equal to 1'</span>));
0127             <span class="keyword">end</span>
0128             obj.populationSize = val;
0129         <span class="keyword">end</span>
0130 
0131         <a name="_sub11" href="#_subfunctions" class="code">function obj = set.fWeight(obj,val)</a>
0132             obj.fWeight = validateNumber(val,<span class="string">'fWeight must be a number'</span>);
0133         <span class="keyword">end</span>
0134 
0135         <a name="_sub12" href="#_subfunctions" class="code">function obj = set.crossoverProbability(obj,val)</a>
0136             validateNumber(val, <span class="string">'crossoverProbability must be a number'</span>);
0137             <span class="keyword">if</span> (val &lt; 0 || val &gt; 1)
0138                 throw(exceptions.invalidValue(<span class="string">'crossoverProbability must be between 0 and 1'</span>));
0139             <span class="keyword">end</span>
0140             obj.crossoverProbability = val;
0141         <span class="keyword">end</span>
0142 
0143         <a name="_sub13" href="#_subfunctions" class="code">function obj = set.strategy(obj,val)</a>
0144             message = sprintf(<span class="string">'strategy must be a searchStrategy enum or one of the following integers (%s)'</span>, <span class="keyword">...</span>
0145                 strjoin(string(searchStrategy.values()), <span class="string">', '</span>));
0146 
0147             obj.strategy = validateOption(val, <span class="string">'searchStrategy'</span>, message).value;
0148         <span class="keyword">end</span>
0149 
0150         <a name="_sub14" href="#_subfunctions" class="code">function obj = set.targetValue(obj,val)</a>
0151             validateNumber(val, <span class="string">'targetValue must be a number'</span>);
0152             <span class="keyword">if</span> val &lt; 1
0153                 throw(exceptions.invalidValue(<span class="string">'targetValue must be greater or equal to 1'</span>));
0154             <span class="keyword">end</span>
0155             obj.targetValue = val;
0156         <span class="keyword">end</span>
0157 
0158         <a name="_sub15" href="#_subfunctions" class="code">function obj = set.numGenerations(obj, val)</a>
0159             validateNumber(val, <span class="string">'numGenerations value must be a number'</span>);
0160             <span class="keyword">if</span> val &lt; 1
0161                 throw(exceptions.invalidValue(<span class="string">'numGenerations must be greater or equal to 1'</span>));
0162             <span class="keyword">end</span>
0163             obj.numGenerations = val;
0164         <span class="keyword">end</span>
0165 
0166         <span class="comment">% NS control methods</span>
0167         <a name="_sub16" href="#_subfunctions" class="code">function obj = set.nLive(obj, val)</a>
0168             validateNumber(val, <span class="string">'nLive must be a number'</span>);
0169             <span class="keyword">if</span> val &lt; 1
0170                 throw(exceptions.invalidValue(<span class="string">'nLive must be greater or equal to 1'</span>));
0171             <span class="keyword">end</span>
0172             obj.nLive = val;
0173         <span class="keyword">end</span>
0174 
0175         <a name="_sub17" href="#_subfunctions" class="code">function obj = set.nMCMC(obj, val)</a>
0176             validateNumber(val, <span class="string">'nMCMC must be a number'</span>);
0177             <span class="keyword">if</span> val &lt; 0
0178                 throw(exceptions.invalidValue(<span class="string">'nMCMC must be greater or equal than 0'</span>));
0179             <span class="keyword">end</span>
0180             obj.nMCMC = val;
0181         <span class="keyword">end</span>
0182 
0183         <a name="_sub18" href="#_subfunctions" class="code">function obj = set.propScale(obj, val)</a>
0184             validateNumber(val, <span class="string">'propScale must be a number'</span>);
0185             <span class="keyword">if</span> (val &lt; 0 || val &gt; 1)
0186                 throw(exceptions.invalidValue(<span class="string">'propScale must be between 0 and 1'</span>));
0187             <span class="keyword">end</span>
0188             obj.propScale = val;
0189         <span class="keyword">end</span>
0190 
0191         <a name="_sub19" href="#_subfunctions" class="code">function obj = set.nsTolerance(obj,val)</a>
0192             validateNumber(val, <span class="string">'nsTolerance must be a number '</span>);
0193             <span class="keyword">if</span> val &lt; 0
0194                 throw(exceptions.invalidValue(<span class="string">'nsTolerance must be greater or equal to 0'</span>));
0195             <span class="keyword">end</span>
0196             obj.nsTolerance = val;
0197         <span class="keyword">end</span>
0198 
0199         <span class="comment">% DREAM methods</span>
0200         <a name="_sub20" href="#_subfunctions" class="code">function obj = set.nSamples(obj,val)</a>
0201             validateNumber(val, <span class="string">'nSample must be a number '</span>);
0202             <span class="keyword">if</span> val &lt; 0
0203                 throw(exceptions.invalidValue(<span class="string">'nSample must be greater or equal to 0'</span>));
0204             <span class="keyword">end</span>
0205             obj.nSamples = val;
0206         <span class="keyword">end</span>
0207 
0208         <a name="_sub21" href="#_subfunctions" class="code">function obj = set.nChains(obj,val)</a>
0209             validateNumber(val, <span class="string">'nChains must be a number '</span>);
0210             <span class="keyword">if</span> (~(round(val) == val) || val &lt;= 0 || isnan(val) || isinf(val))
0211                 throw(exceptions.invalidValue(<span class="string">'nChains must be a finite integer greater than 0'</span>));
0212             <span class="keyword">end</span>
0213             obj.nChains = val;
0214         <span class="keyword">end</span>
0215 
0216         <a name="_sub22" href="#_subfunctions" class="code">function obj = set.jumpProbability(obj,val)</a>
0217             validateNumber(val, <span class="string">'jumpProbability must be a number'</span>);
0218             <span class="keyword">if</span> (val &lt; 0 || val &gt; 1)
0219                 throw(exceptions.invalidValue(<span class="string">'JumpProbability must be a fraction between 0 and 1'</span>));
0220             <span class="keyword">end</span>
0221             obj.jumpProbability = val;
0222         <span class="keyword">end</span>
0223 
0224         <a name="_sub23" href="#_subfunctions" class="code">function obj = set.pUnitGamma(obj,val)</a>
0225             validateNumber(val, <span class="string">'pUnitGamma must be a number'</span>);
0226             <span class="keyword">if</span> (val &lt; 0 || val &gt; 1)
0227                 throw(exceptions.invalidValue(<span class="string">'pUnitGamma must be a fraction between 0 and 1'</span>));
0228             <span class="keyword">end</span>
0229             obj.pUnitGamma = val;
0230         <span class="keyword">end</span>
0231 
0232         <a name="_sub24" href="#_subfunctions" class="code">function obj = set.boundHandling(obj,val)</a>
0233             message = sprintf(<span class="string">'boundHandling must be a boundHandlingOptions enum or one of the following strings (%s)'</span>, <span class="keyword">...</span>
0234                 strjoin(boundHandlingOptions.values(), <span class="string">', '</span>));
0235             obj.boundHandling = validateOption(val, <span class="string">'boundHandlingOptions'</span>, message).value;
0236         <span class="keyword">end</span>
0237 
0238         <a name="_sub25" href="#_subfunctions" class="code">function obj = set.adaptPCR(obj,val)</a>
0239             validateLogical(val, <span class="string">'adaptPCR must be logical ''true'' or ''false'''</span>);
0240             obj.adaptPCR = val;
0241         <span class="keyword">end</span>
0242 
0243 
0244         <a name="_sub26" href="#_subfunctions" class="code">function obj = setProcedure(obj, procedure, varargin)</a>
0245             <span class="comment">% Method sets the properties of the class based on the selected procedures.</span>
0246             <span class="comment">%</span>
0247             <span class="comment">% USAGE:</span>
0248             <span class="comment">%     obj.setProcedure(procedure, varargin)</span>
0249             <span class="comment">%</span>
0250             <span class="comment">% EXAMPLE:</span>
0251             <span class="comment">%     * obj.setProcedure('simplex', {'xTolerance', 1e-6, 'funcTolerance', 1e-6,'maxFuncEvals', 1000})</span>
0252             <span class="comment">%     * obj.setProcedure('dream')</span>
0253             <span class="comment">%     * obj.setProcedure('ns', {'nLive', 150,'nMCMC', 0, 'propScale', 0.1, 'nsTolerance', 0.1})</span>
0254 
0255             <span class="keyword">switch</span> procedure
0256 
0257                 <span class="keyword">case</span> procedures.Calculate.value
0258                     <span class="comment">% Parses the inputs and sets the object properties of</span>
0259                     <span class="comment">% the Calculate procedure</span>
0260                     <span class="keyword">if</span> ~isempty(varargin)
0261                         obj = obj.processCalculateInput(varargin{:});
0262                     <span class="keyword">end</span>
0263                     obj.procedure = procedures.Calculate.value;
0264 
0265                 <span class="keyword">case</span> procedures.Simplex.value
0266                     <span class="comment">% Parses the inputs and sets the object properties of</span>
0267                     <span class="comment">% the Simplex procedure</span>
0268                     <span class="keyword">if</span> ~isempty(varargin)
0269                         obj = obj.processSimplexInput(varargin{:});
0270                     <span class="keyword">end</span>
0271                     obj.procedure = procedures.Simplex.value;
0272 
0273                 <span class="keyword">case</span> procedures.DE.value
0274                     <span class="comment">% Parses the inputs and sets the object properties of</span>
0275                     <span class="comment">% the Differential Evolution procedure</span>
0276                     <span class="keyword">if</span> ~isempty(varargin)
0277                         obj = obj.processDEInput(varargin{:});
0278                     <span class="keyword">end</span>
0279                     obj.procedure = procedures.DE.value;
0280 
0281                 <span class="keyword">case</span> procedures.NS.value
0282                     <span class="comment">% Parses the inputs and sets the object properties of</span>
0283                     <span class="comment">% the Nested Sampler procedure</span>
0284                     <span class="keyword">if</span> ~isempty(varargin)
0285                         obj = obj.processNSInput(varargin{:});
0286                     <span class="keyword">end</span>
0287                     obj.procedure = procedures.NS.value;
0288 
0289                 <span class="keyword">case</span> procedures.Dream.value
0290                     <span class="comment">% Parses the inputs and sets the object properties of</span>
0291                     <span class="comment">% the DREAM procedure</span>
0292                     <span class="keyword">if</span> ~isempty(varargin)
0293                         obj = obj.processDreamInput(varargin{:});
0294                     <span class="keyword">end</span>
0295                     obj.procedure = procedures.Dream.value;
0296 
0297                 <span class="keyword">otherwise</span>
0298                     <span class="comment">% invalid procedure</span>
0299                     throw(exceptions.invalidValue(sprintf(<span class="string">'%s is not a supported procedure. The procedure must be a procedures enum or one of the following strings (%s)'</span>, procedure, strjoin(procedures.values(), <span class="string">', '</span>))));
0300 
0301             <span class="keyword">end</span>
0302 
0303         <span class="keyword">end</span>
0304     <span class="keyword">end</span>
0305 
0306     <span class="comment">%------------------------- Display Methods --------------------------</span>
0307     methods (Access = protected)
0308         <a name="_sub27" href="#_subfunctions" class="code">function groups = getPropertyGroups(obj)</a>
0309             masterPropList = struct(<span class="string">'parallel'</span>, {obj.parallel},<span class="keyword">...</span>
0310                 <span class="string">'procedure'</span>, {obj.procedure},<span class="keyword">...</span>
0311                 <span class="string">'calcSldDuringFit'</span>, {obj.calcSldDuringFit},<span class="keyword">...</span>
0312                 <span class="string">'display'</span>, {obj.display},<span class="keyword">...</span>
0313                 <span class="string">'xTolerance'</span>, {obj.xTolerance},<span class="keyword">...</span>
0314                 <span class="string">'funcTolerance'</span>, {obj.funcTolerance},<span class="keyword">...</span>
0315                 <span class="string">'maxFuncEvals'</span>, {obj.maxFuncEvals},<span class="keyword">...</span>
0316                 <span class="string">'maxIterations'</span>, {obj.maxIterations},<span class="keyword">...</span>
0317                 <span class="string">'updateFreq'</span>, {obj.updateFreq},<span class="keyword">...</span>
0318                 <span class="string">'updatePlotFreq'</span>, {obj.updatePlotFreq},<span class="keyword">...</span>
0319                 <span class="string">'populationSize'</span>, {obj.populationSize},<span class="keyword">...</span>
0320                 <span class="string">'fWeight'</span>, {obj.fWeight},<span class="keyword">...</span>
0321                 <span class="string">'crossoverProbability'</span>, {obj.crossoverProbability},<span class="keyword">...</span>
0322                 <span class="string">'strategy'</span>, {obj.strategy},<span class="keyword">...</span>
0323                 <span class="string">'targetValue'</span>, {obj.targetValue},<span class="keyword">...</span>
0324                 <span class="string">'numGenerations'</span>, {obj.numGenerations},<span class="keyword">...</span>
0325                 <span class="string">'nLive'</span>, {obj.nLive},<span class="keyword">...</span>
0326                 <span class="string">'nMCMC'</span>, {obj.nMCMC},<span class="keyword">...</span>
0327                 <span class="string">'propScale'</span>, {obj.propScale},<span class="keyword">...</span>
0328                 <span class="string">'nsTolerance'</span>, {obj.nsTolerance},<span class="keyword">...</span>
0329                 <span class="string">'resampleParams'</span>, {obj.resampleParams},<span class="keyword">...</span>
0330                 <span class="string">'nSamples'</span>, {obj.nSamples},<span class="keyword">...</span>
0331                 <span class="string">'nChains'</span>, {obj.nChains},<span class="keyword">...</span>
0332                 <span class="string">'jumpProbability'</span>, {obj.jumpProbability},<span class="keyword">...</span>
0333                 <span class="string">'pUnitGamma'</span>, {obj.pUnitGamma},<span class="keyword">...</span>
0334                 <span class="string">'boundHandling'</span>, {obj.boundHandling},<span class="keyword">...</span>
0335                 <span class="string">'adaptPCR'</span>, {obj.adaptPCR});
0336 
0337             simplexCell = {<span class="string">'xTolerance'</span>,<span class="keyword">...</span>
0338                 <span class="string">'funcTolerance'</span>,<span class="keyword">...</span>
0339                 <span class="string">'maxFuncEvals'</span>,<span class="keyword">...</span>
0340                 <span class="string">'maxIterations'</span>,<span class="keyword">...</span>
0341                 <span class="string">'updateFreq'</span>,<span class="keyword">...</span>
0342                 <span class="string">'updatePlotFreq'</span>};
0343 
0344             deCell = {<span class="string">'populationSize'</span>,<span class="keyword">...</span>
0345                 <span class="string">'fWeight'</span>,<span class="keyword">...</span>
0346                 <span class="string">'crossoverProbability'</span>,<span class="keyword">...</span>
0347                 <span class="string">'strategy'</span>,<span class="keyword">...</span>
0348                 <span class="string">'targetValue'</span>,<span class="keyword">...</span>
0349                 <span class="string">'numGenerations'</span>};
0350 
0351             nsCell = {<span class="string">'nLive'</span>,<span class="keyword">...</span>
0352                 <span class="string">'nMCMC'</span>,<span class="keyword">...</span>
0353                 <span class="string">'propScale'</span>,<span class="keyword">...</span>
0354                 <span class="string">'nsTolerance'</span>};
0355 
0356             dreamCell = {<span class="string">'nSamples'</span>,<span class="keyword">...</span>
0357                 <span class="string">'nChains'</span>,<span class="keyword">...</span>
0358                 <span class="string">'jumpProbability'</span>,<span class="keyword">...</span>
0359                 <span class="string">'pUnitGamma'</span>,<span class="keyword">...</span>
0360                 <span class="string">'boundHandling'</span>,<span class="keyword">...</span>
0361                 <span class="string">'adaptPCR'</span>};
0362 
0363             <span class="keyword">if</span> isscalar(obj)
0364                 dispPropList = masterPropList;
0365                 <span class="keyword">if</span> strcmpi(obj.procedure, <span class="string">'calculate'</span>)
0366                     dispPropList = rmfield(masterPropList, [deCell, simplexCell, nsCell, dreamCell]);
0367                 <span class="keyword">elseif</span> strcmpi(obj.procedure, <span class="string">'simplex'</span>)
0368                     dispPropList = rmfield(masterPropList, [deCell, nsCell, dreamCell]);
0369                 <span class="keyword">elseif</span> strcmpi(obj.procedure, <span class="string">'de'</span>)
0370                     dispPropList = rmfield(masterPropList, [simplexCell, nsCell, dreamCell]);
0371                 <span class="keyword">elseif</span> strcmpi(obj.procedure, <span class="string">'ns'</span>)
0372                     dispPropList = rmfield(masterPropList, [simplexCell, deCell, dreamCell]);
0373                 <span class="keyword">elseif</span> strcmpi(obj.procedure, <span class="string">'dream'</span>)
0374                     dispPropList = rmfield(masterPropList, [simplexCell, deCell, nsCell]);
0375                 <span class="keyword">end</span>
0376                 groups = matlab.mixin.util.PropertyGroup(dispPropList);
0377             <span class="keyword">else</span>
0378                 groups = <a href="#_sub28" class="code" title="subfunction groups = getPropertyGroups(obj)">getPropertyGroups</a>@matlab.mixin.CustomDisplay(obj);
0379             <span class="keyword">end</span>
0380         <span class="keyword">end</span>
0381     <span class="keyword">end</span>
0382 
0383     <span class="comment">%------------------------- Parsing Methods --------------------------</span>
0384     methods (Access = private)
0385 
0386         <a name="_sub28" href="#_subfunctions" class="code">function obj = processCalculateInput(obj, varargin)</a>
0387             <span class="comment">% Parses calculate keyword/value pairs and sets the properties of the class.</span>
0388             <span class="comment">%</span>
0389             <span class="comment">% obj.processCalculateInput('param', 'value')</span>
0390             <span class="comment">%</span>
0391             <span class="comment">% The parameters that can be set when using calculate procedure are</span>
0392             <span class="comment">% 1) parallel</span>
0393             <span class="comment">% 2) calcSldDuringFit</span>
0394             <span class="comment">% 3) resampleParams</span>
0395             <span class="comment">% 4) display</span>
0396 
0397             <span class="comment">% The default values for Calculate</span>
0398             defaultParallel = parallelOptions.Single.value;
0399             defaultCalcSldDuringFit = false;
0400             defaultResampleParams = [0.9 50];
0401             defaultDisplay = displayOptions.Iter.value;
0402 
0403             <span class="comment">% Creates the input parser for the calculate parameters</span>
0404             p = inputParser;
0405             addParameter(p,<span class="string">'parallel'</span>,  defaultParallel,   @(x) isText(x) || isenum(x));
0406             addParameter(p,<span class="string">'calcSldDuringFit'</span>,   defaultCalcSldDuringFit,    @islogical);
0407             addParameter(p,<span class="string">'resampleParams'</span>, defaultResampleParams,  @isnumeric);
0408             addParameter(p,<span class="string">'display'</span>,   defaultDisplay,    @(x) isText(x) || isenum(x));
0409             properties = varargin{:};
0410 
0411             <span class="comment">% Parses the input or raises invalidOption error</span>
0412             errorMsg = <span class="string">'Only parallel, calcSldDuringFit, resampleParams and display can be set while using the Calculate procedure'</span>;
0413             inputBlock = obj.parseInputs(p, properties, errorMsg);
0414 
0415             <span class="comment">% Sets the values the for Calculate parameters</span>
0416             obj.parallel = inputBlock.parallel;
0417             obj.calcSldDuringFit = inputBlock.calcSldDuringFit;
0418             obj.resampleParams = inputBlock.resampleParams;
0419             obj.display = inputBlock.display;
0420         <span class="keyword">end</span>
0421 
0422         <a name="_sub29" href="#_subfunctions" class="code">function obj = processSimplexInput(obj, varargin)</a>
0423             <span class="comment">% Parses simplex keyword/value pairs and sets the properties of the class.</span>
0424             <span class="comment">%</span>
0425             <span class="comment">% obj.parseSimplexInput('param', 'value')</span>
0426             <span class="comment">%</span>
0427             <span class="comment">% The parameters that can be set when using simplex procedure are</span>
0428             <span class="comment">% 1) xTolerance</span>
0429             <span class="comment">% 2) funcTolerance</span>
0430             <span class="comment">% 3) maxFuncEvals</span>
0431             <span class="comment">% 4) maxIterations</span>
0432             <span class="comment">% 5) updateFreq</span>
0433             <span class="comment">% 6) updatePlotFreq</span>
0434             <span class="comment">% 7) parallel</span>
0435             <span class="comment">% 8) calcSldDuringFit</span>
0436             <span class="comment">% 9) resampleParams</span>
0437             <span class="comment">% 10) display</span>
0438 
0439             <span class="comment">% The simplex default values</span>
0440             defaultXTolerance = 1e-6;
0441             defaultFuncTolerance = 1e-6;
0442             defaultMaxFuncEvals = 10000;
0443             defaultMaxIterations = 1000;
0444             defaultUpdateFreq = -1;
0445             defaultUpdatePlotFreq = 1;
0446             defaultParallel = parallelOptions.Single.value;
0447             defaultCalcSldDuringFit = false;
0448             defaultResampleParams = [0.9 50];
0449             defaultDisplay = displayOptions.Iter.value;
0450 
0451             <span class="comment">% Parses the input for simplex parameters</span>
0452             p = inputParser;
0453             addParameter(p,<span class="string">'xTolerance'</span>,  defaultXTolerance,   @isnumeric);
0454             addParameter(p,<span class="string">'funcTolerance'</span>,   defaultFuncTolerance,    @isnumeric);
0455             addParameter(p,<span class="string">'maxFuncEvals'</span>, defaultMaxFuncEvals,  @isnumeric);
0456             addParameter(p,<span class="string">'maxIterations'</span>,   defaultMaxIterations,    @isnumeric);
0457             addParameter(p,<span class="string">'updateFreq'</span>,   defaultUpdateFreq,    @isnumeric);
0458             addParameter(p,<span class="string">'updatePlotFreq'</span>,   defaultUpdatePlotFreq,    @isnumeric);
0459             addParameter(p,<span class="string">'parallel'</span>,  defaultParallel,   @(x) isText(x) || isenum(x));
0460             addParameter(p,<span class="string">'calcSldDuringFit'</span>,   defaultCalcSldDuringFit,    @islogical);
0461             addParameter(p,<span class="string">'resampleParams'</span>, defaultResampleParams,  @isnumeric);
0462             addParameter(p,<span class="string">'display'</span>,   defaultDisplay,    @(x) isText(x) || isenum(x));
0463             properties = varargin{:};
0464 
0465             <span class="comment">% Parses the input or raises invalidOption error</span>
0466             errorMsg = <span class="string">'Only xTolerance, funcTolerance, maxFuncEvals, maxIterations, updateFreq, updatePlotFreq, parallel, calcSldDuringFit, resampleParams and display can be set while using the Simplex procedure.'</span>;
0467             inputBlock = obj.parseInputs(p, properties, errorMsg);
0468 
0469             <span class="comment">% Sets the values the for simplex parameters</span>
0470             obj.xTolerance = inputBlock.xTolerance;
0471             obj.funcTolerance = inputBlock.funcTolerance;
0472             obj.maxFuncEvals = inputBlock.maxFuncEvals;
0473             obj.maxIterations = inputBlock.maxIterations;
0474             obj.updateFreq = inputBlock.updateFreq;
0475             obj.updatePlotFreq = inputBlock.updatePlotFreq;
0476             obj.parallel = inputBlock.parallel;
0477             obj.calcSldDuringFit = inputBlock.calcSldDuringFit;
0478             obj.resampleParams = inputBlock.resampleParams;
0479             obj.display = inputBlock.display;
0480         <span class="keyword">end</span>
0481 
0482         <a name="_sub30" href="#_subfunctions" class="code">function obj = processDEInput(obj, varargin)</a>
0483             <span class="comment">% Parses differential evolution keyword/value pairs and sets the properties of the class.</span>
0484             <span class="comment">%</span>
0485             <span class="comment">% obj.processDEInput('param', 'value')</span>
0486             <span class="comment">%</span>
0487             <span class="comment">% The parameters that can be set when using de procedure are</span>
0488             <span class="comment">% 1) populationSize</span>
0489             <span class="comment">% 2) fWeight</span>
0490             <span class="comment">% 3) crossoverProbability</span>
0491             <span class="comment">% 4) strategy</span>
0492             <span class="comment">% 5) targetValue</span>
0493             <span class="comment">% 6) numGenerations</span>
0494             <span class="comment">% 7) parallel</span>
0495             <span class="comment">% 8) calcSldDuringFit</span>
0496             <span class="comment">% 9) resampleParams</span>
0497             <span class="comment">% 10) display</span>
0498 
0499             <span class="comment">% The default values for DE</span>
0500             defaultPopulationSize = 20;
0501             defaultFWeight = 0.5;
0502             defaultCrossoverProbability = 0.8;
0503             defaultStrategy = 4;
0504             defaultTargetValue = 1;
0505             defaultNumGenerations = 500;
0506             defaultParallel = parallelOptions.Single.value;
0507             defaultCalcSldDuringFit = false;
0508             defaultResampleParams = [0.9 50];
0509             defaultDisplay = displayOptions.Iter.value;
0510 
0511             <span class="comment">% Creates the input parser for the DE parameters</span>
0512             p = inputParser;
0513             addParameter(p,<span class="string">'populationSize'</span>,  defaultPopulationSize,   @isnumeric);
0514             addParameter(p,<span class="string">'fWeight'</span>,   defaultFWeight,    @isnumeric);
0515             addParameter(p,<span class="string">'crossoverProbability'</span>, defaultCrossoverProbability,  @isnumeric);
0516             addParameter(p,<span class="string">'strategy'</span>,   defaultStrategy,    @isnumeric);
0517             addParameter(p,<span class="string">'targetValue'</span>,   defaultTargetValue,    @isnumeric);
0518             addParameter(p,<span class="string">'numGenerations'</span>,   defaultNumGenerations,    @isnumeric);
0519             addParameter(p,<span class="string">'parallel'</span>,  defaultParallel,   @(x) isText(x) || isenum(x));
0520             addParameter(p,<span class="string">'calcSldDuringFit'</span>,   defaultCalcSldDuringFit,    @islogical);
0521             addParameter(p,<span class="string">'resampleParams'</span>, defaultResampleParams,  @isnumeric);
0522             addParameter(p,<span class="string">'display'</span>,   defaultDisplay,    @(x) isText(x) || isenum(x));
0523             properties = varargin{:};
0524 
0525             <span class="comment">% Parses the input or raises invalidOption error</span>
0526             errorMsg = <span class="string">'Only populationSize, fWeight, crossoverProbability, strategy, targetValue, numGenerations, parallel, calcSldDuringFit, resampleParams and display can be set while using the Differential Evolution procedure'</span>;
0527             inputBlock = obj.parseInputs(p, properties, errorMsg);
0528 
0529             <span class="comment">% Sets the values the for DE parameters</span>
0530             obj.populationSize = inputBlock.populationSize;
0531             obj.fWeight = inputBlock.fWeight;
0532             obj.crossoverProbability = inputBlock.crossoverProbability;
0533             obj.strategy = inputBlock.strategy;
0534             obj.targetValue = inputBlock.targetValue;
0535             obj.numGenerations = inputBlock.numGenerations;
0536             obj.parallel = inputBlock.parallel;
0537             obj.calcSldDuringFit = inputBlock.calcSldDuringFit;
0538             obj.resampleParams = inputBlock.resampleParams;
0539             obj.display = inputBlock.display;
0540         <span class="keyword">end</span>
0541 
0542         <a name="_sub31" href="#_subfunctions" class="code">function obj = processNSInput(obj, varargin)</a>
0543             <span class="comment">% Parses nested sampler keyword/value pairs and sets the properties of the class.</span>
0544             <span class="comment">%</span>
0545             <span class="comment">% obj.processNSInput('param', 'value')</span>
0546             <span class="comment">%</span>
0547             <span class="comment">% The parameters that can be set when using nested sampler procedure are</span>
0548             <span class="comment">% 1) nLive</span>
0549             <span class="comment">% 2) nMCMC</span>
0550             <span class="comment">% 3) propScale</span>
0551             <span class="comment">% 4) nsTolerance</span>
0552             <span class="comment">% 5) parallel</span>
0553             <span class="comment">% 6) calcSldDuringFit</span>
0554             <span class="comment">% 7) resampleParams</span>
0555             <span class="comment">% 8) display</span>
0556 
0557             <span class="comment">% The default values for NS</span>
0558             defaultnLive = 150;
0559             defaultnMCMC = 0;
0560             defaultPropScale = 0.1;
0561             defaultNsTolerance = 0.1;
0562             defaultParallel = parallelOptions.Single.value;
0563             defaultCalcSldDuringFit = false;
0564             defaultResampleParams = [0.9 50];
0565             defaultDisplay = displayOptions.Iter.value;
0566 
0567             <span class="comment">% Creates the input parser for the NS parameters</span>
0568             p = inputParser;
0569             addParameter(p,<span class="string">'nLive'</span>,  defaultnLive,   @isnumeric);
0570             addParameter(p,<span class="string">'nMCMC'</span>,   defaultnMCMC,    @isnumeric);
0571             addParameter(p,<span class="string">'propScale'</span>, defaultPropScale,  @isnumeric);
0572             addParameter(p,<span class="string">'nsTolerance'</span>,   defaultNsTolerance,    @isnumeric);
0573             addParameter(p,<span class="string">'parallel'</span>,  defaultParallel,   @(x) isText(x) || isenum(x));
0574             addParameter(p,<span class="string">'calcSldDuringFit'</span>,   defaultCalcSldDuringFit,    @islogical);
0575             addParameter(p,<span class="string">'resampleParams'</span>, defaultResampleParams,  @isnumeric);
0576             addParameter(p,<span class="string">'display'</span>,   defaultDisplay,    @(x) isText(x) || isenum(x));
0577             properties = varargin{:};
0578 
0579             <span class="comment">% Parses the input or raises invalidOption error</span>
0580             errorMsg = <span class="string">'Only nLive, nMCMC, propScale, nsTolerance, parallel, calcSldDuringFit, resampleParams and display can be set while using the Nested Sampler procedure'</span>;
0581             inputBlock = obj.parseInputs(p, properties, errorMsg);
0582 
0583             <span class="comment">% Sets the values the for NS parameters</span>
0584             obj.nLive = inputBlock.nLive;
0585             obj.nMCMC = inputBlock.nMCMC;
0586             obj.propScale = inputBlock.propScale;
0587             obj.nsTolerance = inputBlock.nsTolerance;
0588             obj.parallel = inputBlock.parallel;
0589             obj.calcSldDuringFit = inputBlock.calcSldDuringFit;
0590             obj.resampleParams = inputBlock.resampleParams;
0591             obj.display = inputBlock.display;
0592         <span class="keyword">end</span>
0593 
0594         <a name="_sub32" href="#_subfunctions" class="code">function obj = processDreamInput(obj, varargin)</a>
0595             <span class="comment">% Parses Dream keyword/value pairs and sets the properties of the class.</span>
0596             <span class="comment">%</span>
0597             <span class="comment">% obj.processDreamInput('param', 'value')</span>
0598             <span class="comment">%</span>
0599             <span class="comment">% The parameters that can be set when using Dream procedure are</span>
0600             <span class="comment">% 1) nSamples</span>
0601             <span class="comment">% 2) nChains</span>
0602             <span class="comment">% 3) jumpProbability</span>
0603             <span class="comment">% 4) pUnitGamma</span>
0604             <span class="comment">% 5) boundHandling</span>
0605             <span class="comment">% 6) adaptPCR</span>
0606             <span class="comment">% 7) parallel</span>
0607             <span class="comment">% 8) calcSldDuringFit</span>
0608             <span class="comment">% 9) resampleParams</span>
0609             <span class="comment">% 10) display</span>
0610 
0611             <span class="comment">% The default values for Dream</span>
0612             defaultNSamples = 50000;
0613             defaultNChains = 10;
0614             defaultJumpProbability = 0.5;
0615             defaultPUnitGamma = 0.2;
0616             defaultBoundHandling = boundHandlingOptions.Fold.value;
0617             defaultAdaptPCR = false;
0618             defaultParallel = parallelOptions.Single.value;
0619             defaultCalcSldDuringFit = false;
0620             defaultResampleParams = [0.9 50];
0621             defaultDisplay = displayOptions.Iter.value;
0622 
0623             <span class="comment">% Creates the input parser for the Dream parameters</span>
0624             p = inputParser;
0625             addParameter(p,<span class="string">'nSamples'</span>,  defaultNSamples,   @isnumeric);
0626             addParameter(p,<span class="string">'nChains'</span>,   defaultNChains,    @isnumeric);
0627             addParameter(p,<span class="string">'jumpProbability'</span>, defaultJumpProbability,  @isnumeric);
0628             addParameter(p,<span class="string">'pUnitGamma'</span>,   defaultPUnitGamma,    @isnumeric);
0629             addParameter(p,<span class="string">'boundHandling'</span>,   defaultBoundHandling, @(x) isText(x) || isenum(x));
0630             addParameter(p,<span class="string">'adaptPCR'</span>, defaultAdaptPCR, @islogical);
0631             addParameter(p,<span class="string">'parallel'</span>,  defaultParallel,   @(x) isText(x) || isenum(x));
0632             addParameter(p,<span class="string">'calcSldDuringFit'</span>,   defaultCalcSldDuringFit,    @islogical);
0633             addParameter(p,<span class="string">'resampleParams'</span>, defaultResampleParams,  @isnumeric);
0634             addParameter(p,<span class="string">'display'</span>,   defaultDisplay,    @(x) isText(x) || isenum(x));
0635             properties = varargin{:};
0636 
0637             <span class="comment">% Parses the input or raises invalidOption error</span>
0638             errorMsg = <span class="string">'Only nSamples, nChains, jumpProbability, pUnitGamma, boundHandling, adaptPCR, parallel, calcSldDuringFit, resampleParams and display can be set while using the DREAM procedure'</span>;
0639             inputBlock = obj.parseInputs(p, properties, errorMsg);
0640 
0641             <span class="comment">% Sets the values the for Dream parameters</span>
0642             obj.nSamples = inputBlock.nSamples;
0643             obj.nChains = inputBlock.nChains;
0644             obj.jumpProbability = inputBlock.jumpProbability;
0645             obj.pUnitGamma = inputBlock.pUnitGamma;
0646             obj.boundHandling = inputBlock.boundHandling;
0647             obj.adaptPCR = inputBlock.adaptPCR;
0648             obj.parallel = inputBlock.parallel;
0649             obj.calcSldDuringFit = inputBlock.calcSldDuringFit;
0650             obj.resampleParams = inputBlock.resampleParams;
0651             obj.display = inputBlock.display;
0652         <span class="keyword">end</span>
0653 
0654         <a name="_sub33" href="#_subfunctions" class="code">function inputBlock = parseInputs(~, p, properties, errorMsg)</a>
0655             <span class="comment">% Parses the input or raises invalidOption error</span>
0656             <span class="keyword">try</span>
0657                 parse(p, properties{:});
0658                 inputBlock = p.Results;
0659             <span class="keyword">catch</span> ME
0660                 <span class="keyword">if</span> (strcmp(ME.identifier,<span class="string">'MATLAB:InputParser:UnmatchedParameter'</span>))
0661                     throw(exceptions.invalidOption(errorMsg));
0662                 <span class="keyword">else</span>
0663                     rethrow(ME)
0664                 <span class="keyword">end</span>
0665             <span class="keyword">end</span>
0666         <span class="keyword">end</span>
0667 
0668     <span class="keyword">end</span>
0669 <span class="keyword">end</span>
</pre></div>

<hr><address>Generated on Tue 30-Apr-2024 15:28:34 by <strong><a href="https://github.com/gllmflndn/m2html">m2html</a></strong> &copy; 2003-2022</address>
</body>
</html>

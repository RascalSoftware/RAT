<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of controlsClass</title>
  <meta name="keywords" content="controlsClass">
  <meta name="description" content="">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003-2019 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- ../menu.html API -->
<!-- menu.html controlsClass -->

<h1>controlsClass
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong></strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment"></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="controlsClass.html" class="code" title="">controlsClass</a>	</li>
</ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="controlsClass.html" class="code" title="">controlsClass</a>	</li>
</ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function obj = set.parallel(obj,val)</a></li>
<li><a href="#_sub2" class="code">function obj = set.procedure(obj,val)</a></li>
<li><a href="#_sub3" class="code">function obj = set.calcSldDuringFit(obj,val)</a></li>
<li><a href="#_sub4" class="code">function obj = set.display(obj,val)</a></li>
<li><a href="#_sub5" class="code">function obj = set.resamPars(obj,val)</a></li>
<li><a href="#_sub6" class="code">function obj = set.tolX(obj, val)</a></li>
<li><a href="#_sub7" class="code">function obj = set.tolFun(obj, val)</a></li>
<li><a href="#_sub8" class="code">function obj = set.maxFunEvals(obj, val)</a></li>
<li><a href="#_sub9" class="code">function obj = set.maxIter(obj, val)</a></li>
<li><a href="#_sub10" class="code">function obj = set.populationSize(obj, val)</a></li>
<li><a href="#_sub11" class="code">function obj = set.fWeight(obj,val)</a></li>
<li><a href="#_sub12" class="code">function obj = set.crossoverProbability(obj,val)</a></li>
<li><a href="#_sub13" class="code">function obj = set.strategy(obj,val)</a></li>
<li><a href="#_sub14" class="code">function obj = set.targetValue(obj,val)</a></li>
<li><a href="#_sub15" class="code">function obj = set.numGenerations(obj, val)</a></li>
<li><a href="#_sub16" class="code">function obj = set.Nlive(obj, val)</a></li>
<li><a href="#_sub17" class="code">function obj = set.Nmcmc(obj, val)</a></li>
<li><a href="#_sub18" class="code">function obj = set.propScale(obj, val)</a></li>
<li><a href="#_sub19" class="code">function obj = set.nsTolerance(obj,val)</a></li>
<li><a href="#_sub20" class="code">function obj = set.nSamples(obj,val)</a></li>
<li><a href="#_sub21" class="code">function obj = set.nChains(obj,val)</a></li>
<li><a href="#_sub22" class="code">function obj = set.lambda(obj,val)</a></li>
<li><a href="#_sub23" class="code">function obj = set.pUnitGamma(obj,val)</a></li>
<li><a href="#_sub24" class="code">function obj = set.boundHandling(obj,val)</a></li>
<li><a href="#_sub25" class="code">function groups = getPropertyGroups(obj)</a></li>
</ul>


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 classdef <a href="controlsClass.html" class="code" title="">controlsClass</a> &lt; matlab.mixin.CustomDisplay
0002      
0003     properties
0004         parallel = parallelOptions.Single.value
0005         procedure = procedures.Calculate.value
0006         calcSldDuringFit = false
0007         resamPars = [0.9 50]
0008         display = displayOptions.Iter.value
0009         
0010         <span class="comment">%Procedure arguments</span>
0011         <span class="comment">%(1) Simplex</span>
0012         tolX = 1e-6
0013         tolFun = 1e-6
0014         maxFunEvals = 10000
0015         maxIter = 1000
0016         updateFreq = -1
0017         updatePlotFreq = -1
0018         
0019         <span class="comment">%(2) Differential Evolution</span>
0020         populationSize = 20
0021         fWeight = 0.5
0022         crossoverProbability = 0.8
0023         strategy = 4
0024         targetValue = 1
0025         numGenerations = 500
0026 
0027         <span class="comment">%(3) Nested Sampler (for Matlab version. There will be more options</span>
0028         <span class="comment">% with the C version)</span>
0029         Nlive = 150
0030         Nmcmc = 0
0031         propScale = 0.1     <span class="comment">% Used if MCMC is used</span>
0032         nsTolerance = 0.1     <span class="comment">% Target stopping tolerance</span>
0033 
0034         <span class="comment">%(4) DREAM</span>
0035         nSamples = 50000;          <span class="comment">% Total number of samples</span>
0036         nChains = 10               <span class="comment">% Number of MCMC chains..</span>
0037         lambda = 0.5               <span class="comment">% Jump probabilities</span>
0038         pUnitGamma = 0.2
0039         boundHandling = boundHandlingOptions.Fold.value     <span class="comment">% Boundary handling</span>
0040     <span class="keyword">end</span>
0041     
0042     <span class="comment">%------------------------- Set and Get ------------------------------</span>
0043     methods
0044         <a name="_sub0" href="#_subfunctions" class="code">function obj = set.parallel(obj,val)</a>
0045             message = sprintf(<span class="string">'parallel must be a parallelOptions enum or one of the following strings (%s)'</span>, <span class="keyword">...</span>
0046                              strjoin(parallelOptions.values(), <span class="string">', '</span>));
0047             obj.parallel = validateOption(val, <span class="string">'parallelOptions'</span>, message).value;
0048                                           
0049         <span class="keyword">end</span>
0050         
0051         <a name="_sub1" href="#_subfunctions" class="code">function obj = set.procedure(obj,val)</a>
0052             message = sprintf(<span class="string">'procedure must be a procedures enum or one of the following strings (%s)'</span>, <span class="keyword">...</span>
0053                              strjoin(procedures.values(), <span class="string">', '</span>));
0054             obj.procedure = validateOption(val, <span class="string">'procedures'</span>, message).value;
0055         <span class="keyword">end</span>
0056         
0057         <a name="_sub2" href="#_subfunctions" class="code">function obj = set.calcSldDuringFit(obj,val)</a>
0058             <span class="keyword">if</span> ~islogical(val)
0059                 throw(invalidType(<span class="string">'Type must be logical ''true'' or ''false'''</span>));
0060             <span class="keyword">end</span>
0061             obj.calcSldDuringFit = val;
0062         <span class="keyword">end</span>
0063 
0064         <a name="_sub3" href="#_subfunctions" class="code">function obj = set.display(obj,val)</a>
0065             message = sprintf(<span class="string">'display must be a displayOptions enum or one of the following strings (%s)'</span>, <span class="keyword">...</span>
0066                              strjoin(displayOptions.values(), <span class="string">', '</span>));
0067             obj.display = validateOption(val, <span class="string">'displayOptions'</span>, message).value;
0068         <span class="keyword">end</span> 
0069 
0070         <a name="_sub4" href="#_subfunctions" class="code">function obj = set.resamPars(obj,val)</a>
0071             <span class="keyword">if</span> length(val) ~= 2
0072                 throw(invalidValue(<span class="string">'resamPars must have length of 2'</span>));
0073             <span class="keyword">end</span>
0074             
0075             validateNumber(val, <span class="string">'resamPars must be a number array'</span>);
0076             
0077             <span class="keyword">if</span> (val(1) &lt; 0 || val(1) &gt; 1)
0078                 throw(invalidValue(<span class="string">'resamPars(0) must be between 0 and 1'</span>));
0079             <span class="keyword">end</span>
0080             <span class="keyword">if</span> val(2) &lt;= 0
0081                 throw(invalidValue(<span class="string">'resamPars(1) must be greater than 0'</span>));
0082             <span class="keyword">end</span>
0083             obj.resamPars = val;
0084         <span class="keyword">end</span>  
0085 
0086         <span class="comment">% Simplex control methods</span>
0087         <a name="_sub5" href="#_subfunctions" class="code">function obj = set.tolX(obj, val)</a>
0088             obj.tolX = validateNumber(val, <span class="string">'tolX must be a number'</span>);
0089         <span class="keyword">end</span>
0090          
0091         <a name="_sub6" href="#_subfunctions" class="code">function obj = set.tolFun(obj, val)</a>
0092             obj.tolFun = validateNumber(val, <span class="string">'tolFun must be a number'</span>);
0093         <span class="keyword">end</span>
0094         
0095         <a name="_sub7" href="#_subfunctions" class="code">function obj = set.maxFunEvals(obj, val)</a>
0096             obj.maxFunEvals = validateNumber(val, <span class="string">'maxFunEvals must be a number'</span>);
0097         <span class="keyword">end</span>
0098         
0099         <a name="_sub8" href="#_subfunctions" class="code">function obj = set.maxIter(obj, val)</a>
0100             obj.maxIter = validateNumber(val, <span class="string">'maxIter must be a number'</span>);
0101         <span class="keyword">end</span>
0102         
0103         <span class="comment">% DE controls methods</span>
0104         <a name="_sub9" href="#_subfunctions" class="code">function obj = set.populationSize(obj, val)</a>
0105             validateNumber(val, <span class="string">'populationSize must be a number'</span>);
0106             <span class="keyword">if</span> val &lt; 1
0107                 throw(invalidValue(<span class="string">'populationSize must be greater or equal to 1'</span>));
0108             <span class="keyword">end</span>
0109             obj.populationSize = val;
0110         <span class="keyword">end</span>
0111         
0112         <a name="_sub10" href="#_subfunctions" class="code">function obj = set.fWeight(obj,val)</a>
0113             obj.fWeight = validateNumber(val,<span class="string">'fWeight must be a number'</span>);
0114         <span class="keyword">end</span>
0115         
0116         <a name="_sub11" href="#_subfunctions" class="code">function obj = set.crossoverProbability(obj,val)</a>
0117             validateNumber(val, <span class="string">'crossoverProbability must be a number'</span>);
0118             <span class="keyword">if</span> (val &lt; 0 || val &gt; 1)
0119                 throw(invalidValue(<span class="string">'crossoverProbability must be between 0 and 1'</span>));
0120             <span class="keyword">end</span>
0121             obj.crossoverProbability = val;
0122         <span class="keyword">end</span>
0123         
0124         <a name="_sub12" href="#_subfunctions" class="code">function obj = set.strategy(obj,val)</a>
0125             message = sprintf(<span class="string">'strategy must be a strategyOptions enum or one of the following integers (%s)'</span>, <span class="keyword">...</span>
0126                              strjoin(string(strategyOptions.values()), <span class="string">', '</span>));
0127   
0128             obj.strategy = validateOption(val, <span class="string">'strategyOptions'</span>, message).value;
0129         <span class="keyword">end</span>
0130         
0131         <a name="_sub13" href="#_subfunctions" class="code">function obj = set.targetValue(obj,val)</a>
0132             validateNumber(val, <span class="string">'targetValue must be a number'</span>);
0133             <span class="keyword">if</span> val &lt; 1
0134                 throw(invalidValue(<span class="string">'targetValue must be greater or equal to 1'</span>));
0135             <span class="keyword">end</span> 
0136             obj.targetValue = val;
0137         <span class="keyword">end</span>
0138         
0139         <a name="_sub14" href="#_subfunctions" class="code">function obj = set.numGenerations(obj, val)</a>
0140             validateNumber(val, <span class="string">'numGenerations value must be a number'</span>);
0141             <span class="keyword">if</span> val &lt; 1
0142                 throw(invalidValue(<span class="string">'numGenerations must be greater or equal to 1'</span>));
0143             <span class="keyword">end</span> 
0144             obj.numGenerations = val;
0145         <span class="keyword">end</span>
0146          
0147         <span class="comment">% NS control methods</span>
0148         <a name="_sub15" href="#_subfunctions" class="code">function obj = set.Nlive(obj, val)</a>
0149             validateNumber(val, <span class="string">'Nlive must be a number'</span>);
0150             <span class="keyword">if</span> val &lt; 1
0151                 throw(invalidValue(<span class="string">'Nlive must be greater or equal to 1'</span>));
0152             <span class="keyword">end</span>
0153             obj.Nlive = val;
0154         <span class="keyword">end</span>
0155         
0156         <a name="_sub16" href="#_subfunctions" class="code">function obj = set.Nmcmc(obj, val)</a>
0157             validateNumber(val, <span class="string">'Nmcmc must be a number'</span>);
0158             <span class="keyword">if</span> val &lt; 0
0159                 throw(invalidValue(<span class="string">'Nmcmc must be greater or equal than 0'</span>));
0160             <span class="keyword">end</span>
0161             obj.Nmcmc = val;
0162         <span class="keyword">end</span>
0163         
0164         <a name="_sub17" href="#_subfunctions" class="code">function obj = set.propScale(obj, val)</a>
0165             validateNumber(val, <span class="string">'propScale must be a number'</span>);
0166             <span class="keyword">if</span> (val &lt; 0 || val &gt; 1)
0167                 throw(invalidValue(<span class="string">'propScale must be between 0 and 1'</span>));
0168             <span class="keyword">end</span>
0169             obj.propScale = val;
0170         <span class="keyword">end</span>
0171         
0172         <a name="_sub18" href="#_subfunctions" class="code">function obj = set.nsTolerance(obj,val)</a>
0173             validateNumber(val, <span class="string">'nsTolerance must be a number '</span>);
0174             <span class="keyword">if</span> val &lt; 0
0175                 throw(invalidValue(<span class="string">'nsTolerance must be greater or equal to 0'</span>));
0176             <span class="keyword">end</span>
0177             obj.nsTolerance = val;
0178         <span class="keyword">end</span>
0179 
0180         <span class="comment">% DREAM methods</span>
0181         <a name="_sub19" href="#_subfunctions" class="code">function obj = set.nSamples(obj,val)</a>
0182             validateNumber(val, <span class="string">'nSample must be a number '</span>);
0183             <span class="keyword">if</span> val &lt; 0
0184                 throw(invalidValue(<span class="string">'nSample must be greater or equal to 0'</span>));
0185             <span class="keyword">end</span>
0186             obj.nSamples = val;
0187         <span class="keyword">end</span> 
0188 
0189         <a name="_sub20" href="#_subfunctions" class="code">function obj = set.nChains(obj,val)</a>
0190             validateNumber(val, <span class="string">'nChains must be a number '</span>);
0191             <span class="keyword">if</span> (~(round(val) == val) || val &lt;= 0 || isnan(val) || isinf(val))
0192                 throw(invalidValue(<span class="string">'nChains must be a finite integer greater than 0'</span>));
0193             <span class="keyword">end</span>
0194             obj.nChains = val;
0195         <span class="keyword">end</span> 
0196 
0197         <a name="_sub21" href="#_subfunctions" class="code">function obj = set.lambda(obj,val)</a>
0198             validateNumber(val, <span class="string">'lambda must be a number'</span>);
0199             <span class="keyword">if</span> (val &lt; 0 || val &gt; 1)
0200                 throw(invalidValue(<span class="string">'Jump probability lambda must be a fraction between 0 and 1'</span>));
0201             <span class="keyword">end</span>
0202             obj.lambda = val;
0203         <span class="keyword">end</span> 
0204 
0205         <a name="_sub22" href="#_subfunctions" class="code">function obj = set.pUnitGamma(obj,val)</a>
0206             validateNumber(val, <span class="string">'pUnitGamma must be a number'</span>);
0207             <span class="keyword">if</span> (val &lt; 0 || val &gt; 1)
0208                 throw(invalidValue(<span class="string">'pUnitGamma must be a fraction between 0 and 1'</span>));
0209             <span class="keyword">end</span>
0210             obj.pUnitGamma = val;
0211         <span class="keyword">end</span> 
0212 
0213         <a name="_sub23" href="#_subfunctions" class="code">function obj = set.boundHandling(obj,val)</a>
0214             message = sprintf(<span class="string">'boundHandling must be a boundHandlingOptions enum or one of the following strings (%s)'</span>, <span class="keyword">...</span>
0215                              strjoin(boundHandlingOptions.values(), <span class="string">', '</span>));
0216             obj.boundHandling = validateOption(val, <span class="string">'boundHandlingOptions'</span>, message).value;
0217         <span class="keyword">end</span> 
0218     <span class="keyword">end</span>
0219 
0220     <span class="comment">%------------------------- Display Methods --------------------------</span>
0221     methods (Access = protected)
0222         <a name="_sub24" href="#_subfunctions" class="code">function groups = getPropertyGroups(obj)</a>
0223             masterPropList = struct(<span class="string">'parallel'</span>, {obj.parallel},<span class="keyword">...</span>
0224                 <span class="string">'procedure'</span>, {obj.procedure},<span class="keyword">...</span>
0225                 <span class="string">'calcSldDuringFit'</span>, {obj.calcSldDuringFit},<span class="keyword">...</span>
0226                 <span class="string">'display'</span>, {obj.display},<span class="keyword">...</span>
0227                 <span class="string">'tolX'</span>, {obj.tolX},<span class="keyword">...</span>
0228                 <span class="string">'tolFun'</span>, {obj.tolFun},<span class="keyword">...</span>
0229                 <span class="string">'maxFunEvals'</span>, {obj.maxFunEvals},<span class="keyword">...</span>
0230                 <span class="string">'maxIter'</span>, {obj.maxIter},<span class="keyword">...</span>
0231                 <span class="string">'populationSize'</span>, {obj.populationSize},<span class="keyword">...</span>
0232                 <span class="string">'fWeight'</span>, {obj.fWeight},<span class="keyword">...</span>
0233                 <span class="string">'crossoverProbability'</span>, {obj.crossoverProbability},<span class="keyword">...</span>
0234                 <span class="string">'strategy'</span>, {obj.strategy},<span class="keyword">...</span>
0235                 <span class="string">'targetValue'</span>, {obj.targetValue},<span class="keyword">...</span>
0236                 <span class="string">'numGenerations'</span>, {obj.numGenerations},<span class="keyword">...</span>
0237                 <span class="string">'Nlive'</span>, {obj.Nlive},<span class="keyword">...</span>
0238                 <span class="string">'Nmcmc'</span>, {obj.Nmcmc},<span class="keyword">...</span>
0239                 <span class="string">'propScale'</span>, {obj.propScale},<span class="keyword">...</span>
0240                 <span class="string">'nsTolerance'</span>, {obj.nsTolerance},<span class="keyword">...</span>
0241                 <span class="string">'resamPars'</span>, {obj.resamPars},<span class="keyword">...</span>
0242                 <span class="string">'nSamples'</span>, {obj.nSamples},<span class="keyword">...</span><span class="comment">          </span>
0243                 <span class="string">'nChains'</span>, {obj.nChains},<span class="keyword">...</span>
0244                 <span class="string">'lambda'</span>, {obj.lambda},<span class="keyword">...</span>
0245                 <span class="string">'pUnitGamma'</span>, {obj.pUnitGamma},<span class="keyword">...</span>
0246                 <span class="string">'boundHandling'</span>, {obj.boundHandling});
0247  
0248             simplexCell = {<span class="string">'tolX'</span>,<span class="keyword">...</span>
0249                 <span class="string">'tolFun'</span>,<span class="keyword">...</span>
0250                 <span class="string">'maxFunEvals'</span>,<span class="keyword">...</span>
0251                 <span class="string">'maxIter'</span>};
0252             
0253             deCell = {<span class="string">'populationSize'</span>,<span class="keyword">...</span>
0254                 <span class="string">'fWeight'</span>,<span class="keyword">...</span>
0255                 <span class="string">'crossoverProbability'</span>,<span class="keyword">...</span>
0256                 <span class="string">'strategy'</span>,<span class="keyword">...</span>
0257                 <span class="string">'targetValue'</span>,<span class="keyword">...</span>
0258                 <span class="string">'numGenerations'</span>};
0259 
0260             nsCell = {<span class="string">'Nlive'</span>,<span class="keyword">...</span>
0261                 <span class="string">'Nmcmc'</span>,<span class="keyword">...</span>
0262                 <span class="string">'propScale'</span>,<span class="keyword">...</span>
0263                 <span class="string">'nsTolerance'</span>}; 
0264 
0265             dreamCell = {<span class="string">'nSamples'</span>,<span class="keyword">...</span><span class="comment">          </span>
0266                 <span class="string">'nChains'</span>,<span class="keyword">...</span>
0267                 <span class="string">'lambda'</span>,<span class="keyword">...</span>
0268                 <span class="string">'pUnitGamma'</span>,<span class="keyword">...</span>
0269                 <span class="string">'boundHandling'</span>};
0270             
0271             <span class="keyword">if</span> isscalar(obj)
0272                 dispPropList = masterPropList;
0273                 <span class="keyword">if</span> strcmpi(obj.procedure, <span class="string">'calculate'</span>)
0274                     dispPropList = rmfield(masterPropList, [deCell, simplexCell, nsCell, dreamCell]);
0275                 <span class="keyword">elseif</span> strcmpi(obj.procedure, <span class="string">'simplex'</span>)
0276                     dispPropList = rmfield(masterPropList, [deCell, nsCell, dreamCell]);
0277                 <span class="keyword">elseif</span> strcmpi(obj.procedure, <span class="string">'de'</span>)
0278                     dispPropList = rmfield(masterPropList, [simplexCell, nsCell, dreamCell]);
0279                 <span class="keyword">elseif</span> strcmpi(obj.procedure, <span class="string">'ns'</span>)
0280                     dispPropList = rmfield(masterPropList, [simplexCell, deCell, dreamCell]);
0281                 <span class="keyword">elseif</span> strcmpi(obj.procedure, <span class="string">'dream'</span>)
0282                     dispPropList = rmfield(masterPropList, [simplexCell, deCell, nsCell]);
0283                 <span class="keyword">end</span>
0284                 groups = matlab.mixin.util.PropertyGroup(dispPropList);               
0285             <span class="keyword">else</span>
0286                 groups = <a href="#_sub25" class="code" title="subfunction groups = getPropertyGroups(obj)">getPropertyGroups</a>@matlab.mixin.CustomDisplay(obj);
0287             <span class="keyword">end</span>           
0288         <span class="keyword">end</span>
0289     <span class="keyword">end</span>
0290 <span class="keyword">end</span>
</pre></div>

<hr><address>Generated on Wed 10-May-2023 12:43:42 by <strong><a href="https://github.com/gllmflndn/m2html">m2html</a></strong> &copy; 2003-2022</address>
</body>
</html>

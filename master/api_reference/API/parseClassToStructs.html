<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of parseClassToStructs</title>
  <meta name="keywords" content="parseClassToStructs">
  <meta name="description" content="Breaks up the classes into the relevant structures for inputting into C">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003-2019 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- menu.html API -->

<h1>parseClassToStructs
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>Breaks up the classes into the relevant structures for inputting into C</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function [problemStruct,problemCells,problemLimits,priors,controls] = parseClassToStructs(project,inputControls) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> Breaks up the classes into the relevant structures for inputting into C
</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="RAT.html" class="code" title="function [project,result] = RAT(project,controls)">RAT</a>	</li>
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function [problemStruct,problemCells,problemLimits,priors,controls] = parseClassToStructs(project,inputControls)</a>
0002 
0003 <span class="comment">% Breaks up the classes into the relevant structures for inputting into C</span>
0004 
0005 <span class="comment">% Put the extracted fields into a cell array...</span>
0006 <span class="comment">% Structure of problemCells array.</span>
0007 <span class="comment">%</span>
0008 <span class="comment">% {1} - inputProblem.contrastRepeatSLDs</span>
0009 <span class="comment">%       {1 x nContrasts} array of cells</span>
0010 <span class="comment">%       Each cell is {1 x 2 double}.</span>
0011 <span class="comment">%</span>
0012 <span class="comment">% {2} - inputProblem.data</span>
0013 <span class="comment">%       {1 x nContrasts} array of cells</span>
0014 <span class="comment">%       Each cell is {Inf x 3 double}</span>
0015 <span class="comment">%</span>
0016 <span class="comment">% {3} - inputProblem.dataLimits</span>
0017 <span class="comment">%       {1 x nContrasts} array of cells</span>
0018 <span class="comment">%       Each cell is {1 x 2 double}</span>
0019 <span class="comment">%</span>
0020 <span class="comment">% {4} - inputProblem.simLimits</span>
0021 <span class="comment">%       {1 x nContrasts} array of cells</span>
0022 <span class="comment">%       Each cell is {1 x 2 double}</span>
0023 <span class="comment">%</span>
0024 <span class="comment">% {5} - inputProblem.contrastLayers</span>
0025 <span class="comment">%       {1 x nContrasts} array of cells</span>
0026 <span class="comment">%       Each cell is {1 x Inf double}</span>
0027 <span class="comment">%</span>
0028 <span class="comment">% {6} - inputProblem.layerDetails</span>
0029 <span class="comment">%       {n x 1} array of cells</span>
0030 <span class="comment">%       Each cell is (1 x 5 double}</span>
0031 <span class="comment">%</span>
0032 <span class="comment">% {7} - inputProblem.paramNames</span>
0033 <span class="comment">%       {1 x nParams} array of cells</span>
0034 <span class="comment">%       Each cell is {1 x Inf char}</span>
0035 <span class="comment">%</span>
0036 <span class="comment">% {8} - inputProblem.backgroundParamNames</span>
0037 <span class="comment">%       {1 x nBackgroundParams} array of cells</span>
0038 <span class="comment">%       Each cell is {1 x Inf char}</span>
0039 <span class="comment">%</span>
0040 <span class="comment">% {9} - inputProblem.scalefactorNames</span>
0041 <span class="comment">%       {1 x nScalefactors} array of cells</span>
0042 <span class="comment">%       Each cell is {1 x Inf char}</span>
0043 <span class="comment">%</span>
0044 <span class="comment">% {10}- inputProblem.qzshiftNames</span>
0045 <span class="comment">%       {1 x nQzshifts} array of cells</span>
0046 <span class="comment">%       Each cell is {1 x Inf char}</span>
0047 <span class="comment">%</span>
0048 <span class="comment">% {11}- inputProblem.bulkInNames</span>
0049 <span class="comment">%       {1 x nBulkIn} array of cells</span>
0050 <span class="comment">%       Each cell is {1 x Inf char}</span>
0051 <span class="comment">%</span>
0052 <span class="comment">% {12}- inputProblem.bulkOutNames</span>
0053 <span class="comment">%       {1 x nBulkOut} array of cells</span>
0054 <span class="comment">%       Each cell is {1 x Inf char}</span>
0055 <span class="comment">%</span>
0056 <span class="comment">% {13}- inputProblem.resolutionParamNames</span>
0057 <span class="comment">%       {1 x nResolutionParams} array of cells</span>
0058 <span class="comment">%       Each cell is {1 x Inf char}</span>
0059 <span class="comment">%</span>
0060 <span class="comment">% {14} - inputProblem.customFiles</span>
0061 <span class="comment">%        {1 x nCustomFiles} array of cells</span>
0062 <span class="comment">%        Each cell is {1 x Inf char}</span>
0063 <span class="comment">%</span>
0064 <span class="comment">% {15} - inputProblem.backgroundTypes</span>
0065 <span class="comment">%        {1 x nBackgrounds} array of cells</span>
0066 <span class="comment">%        Each cell is {1 x Inf char}</span>
0067 <span class="comment">%</span>
0068 <span class="comment">% {16} - inputProblem.resolutionTypes</span>
0069 <span class="comment">%        {1 x nResolutions} array of cells</span>
0070 <span class="comment">%        Each cell is {1 x Inf char}</span>
0071 <span class="comment">%</span>
0072 <span class="comment">% {17} - inputProblem.oilChiData</span>
0073 <span class="comment">%        {1 x nContrasts} array of cells</span>
0074 <span class="comment">%        Each cell is {Inf x 3 double}</span>
0075 <span class="comment">%</span>
0076 <span class="comment">% {18} - inputProblem.domainContrastRepeatSLDs</span>
0077 <span class="comment">%        {1 x nDomainContrasts} array of cells</span>
0078 <span class="comment">%        Each cell is {1 x 2 double}.</span>
0079 <span class="comment">%</span>
0080 <span class="comment">% {19} - inputProblem.domainContrastLayers</span>
0081 <span class="comment">%        {1 x nDomainContrasts} array of cells</span>
0082 <span class="comment">%        Each cell is {1 x Inf double}</span>
0083 <span class="comment">%</span>
0084 <span class="comment">% {20} - inputProblem.domainRatioNames</span>
0085 <span class="comment">%        {1 x nDomainRatios} array of cells</span>
0086 <span class="comment">%        Each cell is {1 x Inf char}</span>
0087 
0088  
0089 <span class="comment">% First parse the class to a structure variable.</span>
0090 inputStruct = project.toStruct();
0091 
0092 <span class="comment">%% Start by removing the cell arrays</span>
0093 contrastLayers = inputStruct.contrastLayers;
0094 layerDetails = inputStruct.layerDetails;
0095 
0096 <span class="comment">% If any of the contrastLayers are empty, replace the empty cells by zero</span>
0097 <span class="comment">% thickness layers</span>
0098 <span class="keyword">for</span> i = 1:length(contrastLayers)
0099     thisLayer = contrastLayers{i};
0100     <span class="keyword">if</span> isempty(thisLayer)
0101         contrastLayers{i} = 0;
0102     <span class="keyword">end</span>
0103 <span class="keyword">end</span>
0104 
0105 <span class="comment">% Do the same for layerDetails</span>
0106 <span class="keyword">if</span> isempty(layerDetails)
0107     layerDetails = {0};
0108 <span class="keyword">end</span>
0109 
0110 <span class="comment">% Pull out all the cell arrays (except priors) into one array</span>
0111 problemCells{1} = inputStruct.contrastRepeatSLDs;
0112 problemCells{2} = inputStruct.data;
0113 problemCells{3} = inputStruct.dataLimits;
0114 problemCells{4} = inputStruct.simLimits;
0115 problemCells{5} = contrastLayers;
0116 problemCells{6} = layerDetails;
0117 problemCells{7} = inputStruct.paramNames;
0118 problemCells{8} = inputStruct.backgroundParamNames;
0119 problemCells{9} = inputStruct.scalefactorNames;
0120 problemCells{10} = inputStruct.qzshiftNames;
0121 problemCells{11} = inputStruct.bulkInNames;
0122 problemCells{12} = inputStruct.bulkOutNames;
0123 problemCells{13} = inputStruct.resolutionParamNames;
0124 problemCells{14} = inputStruct.files;
0125 problemCells{15} = cellstr(inputStruct.backgroundTypes');
0126 problemCells{16} = cellstr(inputStruct.resolutionTypes');
0127 problemCells{17} = inputStruct.oilChiData;
0128 
0129 <span class="comment">% Now deal with domains cell arrays</span>
0130 <span class="keyword">if</span> isa(project, <span class="string">'domainsClass'</span>) &amp;&amp; isa(project.domainContrasts, <span class="string">'domainContrastsClass'</span>)
0131 
0132     domainContrastLayers = inputStruct.domainContrastLayers;
0133 
0134     <span class="comment">% If any of the domainContrastLayers are empty, replace the empty</span>
0135     <span class="comment">% cells by zero thickness layers</span>
0136     <span class="keyword">for</span> i = 1:length(domainContrastLayers)
0137         thisLayer = domainContrastLayers{i};
0138         <span class="keyword">if</span> isempty(thisLayer)
0139             domainContrastLayers{i} = 0;
0140         <span class="keyword">end</span>
0141     <span class="keyword">end</span>
0142     
0143     problemCells{18} = inputStruct.domainContrastRepeatSLDs;
0144     problemCells{19} = domainContrastLayers;
0145     
0146 <span class="keyword">else</span>
0147 
0148     problemCells{18} = cell(1,0);
0149     problemCells{19} = cell(1,0);
0150 
0151 <span class="keyword">end</span>
0152 
0153 <span class="keyword">if</span> isa(project, <span class="string">'domainsClass'</span>)
0154     problemCells{20} = inputStruct.domainRatioNames;
0155 <span class="keyword">else</span>
0156     problemCells{20} = cell(1,0);
0157 <span class="keyword">end</span>
0158 
0159 <span class="comment">% Fix for cell array bug with custom layers - is this needed still??</span>
0160 <span class="keyword">if</span> strcmpi(inputStruct.modelType,<span class="string">'custom layers'</span>) || strcmpi(inputStruct.modelType,<span class="string">'custom xy'</span>)
0161     <span class="keyword">for</span> i = 1:length(problemCells{5})
0162         problemCells{5}{i} = 0;
0163     <span class="keyword">end</span>
0164     <span class="keyword">for</span> i = 1:length(problemCells{19})
0165         problemCells{19}{i} = 0;
0166     <span class="keyword">end</span>
0167     
0168     problemCells{6} = {0};
0169     
0170 <span class="keyword">end</span>
0171 
0172 <span class="comment">% Also the custom files array..</span>
0173 <span class="keyword">if</span> isempty(problemCells{14})
0174     problemCells{14} = {<span class="string">''</span>};
0175 <span class="keyword">end</span>
0176 
0177 
0178 <span class="comment">%% Put the priors into their own array</span>
0179 priors.param = inputStruct.paramPriors;
0180 priors.backgroundParam = inputStruct.backgroundParamPriors;
0181 priors.resolutionParam = inputStruct.resolutionParamPriors;
0182 priors.bulkIn = inputStruct.bulkInPriors;
0183 priors.bulkOut = inputStruct.bulkOutPriors;
0184 priors.qzshift = inputStruct.qzshiftPriors;
0185 priors.scalefactor = inputStruct.scalefactorPriors;
0186 <span class="keyword">if</span> isa(project, <span class="string">'domainsClass'</span>)
0187     priors.domainRatio = inputStruct.domainRatioPriors;
0188 <span class="keyword">else</span>
0189     priors.domainRatio = cell(0,1);
0190 <span class="keyword">end</span>
0191 
0192 priorFields = fieldnames(priors);
0193 totalNumber = 0;
0194 <span class="keyword">for</span> i=1:length(priorFields)
0195     totalNumber = totalNumber + size(priors.(priorFields{i}), 1);
0196 <span class="keyword">end</span>
0197 
0198 priorsCell = cell(totalNumber,4);
0199 cellCount = 1;
0200 
0201 <span class="keyword">for</span> i=1:length(priorFields)
0202     currentPrior = priorFields{i};
0203     <span class="keyword">for</span> j = 1:size(priors.(currentPrior), 1)
0204         priorsCell{cellCount,1} = priors.(currentPrior){j}{1};
0205        
0206         <span class="comment">% Check prior type.....</span>
0207         thisType = priors.(currentPrior){j}{2};
0208 
0209         <span class="keyword">if</span> strcmpi(thisType, priorTypes.Uniform.value)
0210             priorType = 1;
0211         <span class="keyword">elseif</span> strcmpi(thisType, priorTypes.Gaussian.value)
0212             priorType = 2;
0213         <span class="keyword">else</span>
0214             priorType = 3;
0215         <span class="keyword">end</span>
0216         priorsCell{cellCount,2} = priorType;
0217 
0218         priorsCell{cellCount,3} = priors.(currentPrior){j}{3};
0219         priorsCell{cellCount,4} = priors.(currentPrior){j}{4};
0220         cellCount = cellCount + 1;
0221     <span class="keyword">end</span>
0222 <span class="keyword">end</span>
0223 
0224 priors.priorNames = priorsCell(:, 1);
0225 priors.priorValues = cell2mat(priorsCell(:, 2:end));
0226 
0227 
0228 <span class="comment">%% Deal with backgrounds and resolutions</span>
0229 backgroundActions = zeros(1, length(inputStruct.contrastBackgrounds));
0230 <span class="keyword">for</span> i = 1:length(inputStruct.contrastBackgrounds)
0231 
0232     <span class="keyword">if</span> strcmpi(inputStruct.contrastBackgroundActions{i}, actions.Add)
0233         backgroundActions(i) = 1;
0234     <span class="keyword">else</span>
0235         backgroundActions(i) = 2;
0236     <span class="keyword">end</span>
0237 
0238 <span class="keyword">end</span>
0239 
0240 <span class="comment">% Here we need to do the same with the contrastResolutions array</span>
0241 contrastResolutions = inputStruct.contrastResolutions;
0242 resolutionNames = inputStruct.resolutionParamNames;
0243 resolutionTypes = inputStruct.resolutionTypes;
0244 contrastRes = zeros(1, length(contrastResolutions));
0245 <span class="keyword">for</span> i = 1:length(contrastResolutions)
0246     <span class="comment">% Check the type of the resolution that each contrast is pointing to.</span>
0247     <span class="comment">% If it is a constant, point to the number of the corresponding</span>
0248     <span class="comment">% resolution par. If it's data, then set it to zero</span>
0249     thisResol = contrastResolutions(i);      <span class="comment">% Which resolution</span>
0250     thisType = resolutionTypes{thisResol};   <span class="comment">% What type is it?</span>
0251     
0252     <span class="keyword">if</span> strcmpi(thisType,<span class="string">'data'</span>)
0253         <span class="comment">% Resolution is in the datafile. Set contrastRes to zero</span>
0254         contrastRes(i) = -1;
0255     <span class="keyword">else</span>
0256         <span class="comment">% Resolution is a resolutionParam, the name of which should</span>
0257         <span class="comment">% be in the first column of resolutionValues</span>
0258         whichResolutionParamName = inputStruct.resolutionValues{thisResol,1};
0259         
0260         <span class="comment">% Find which resolutionParam this is, and set contrastRes to this number</span>
0261         resolutionParamNumber = find(strcmpi(whichResolutionParamName,resolutionNames));
0262         contrastRes(i) = resolutionParamNumber;
0263     <span class="keyword">end</span>
0264 <span class="keyword">end</span>
0265         
0266 
0267 <span class="comment">%% Now make the limits array</span>
0268 <span class="keyword">for</span> i = 1:length(inputStruct.paramLimits)
0269     problemLimits.param(i,:) = inputStruct.paramLimits{i};
0270 <span class="keyword">end</span>
0271 
0272 <span class="keyword">for</span> i = 1:length(inputStruct.backgroundParamLimits)
0273     problemLimits.backgroundParam(i,:) = inputStruct.backgroundParamLimits{i};
0274 <span class="keyword">end</span>
0275 
0276 <span class="keyword">for</span> i = 1:length(inputStruct.scalefactorLimits)
0277     problemLimits.scalefactor(i,:) = inputStruct.scalefactorLimits{i};
0278 <span class="keyword">end</span>
0279 
0280 <span class="keyword">for</span> i = 1:length(inputStruct.qzshiftLimits)
0281     problemLimits.qzshift(i,:) = inputStruct.qzshiftLimits{i};
0282 <span class="keyword">end</span>
0283 
0284 <span class="keyword">for</span> i = 1:length(inputStruct.bulkInLimits)
0285     problemLimits.bulkIn(i,:) = inputStruct.bulkInLimits{i};
0286 <span class="keyword">end</span>
0287 
0288 <span class="keyword">for</span> i = 1:length(inputStruct.bulkOutLimits)
0289     problemLimits.bulkOut(i,:) = inputStruct.bulkOutLimits{i};
0290 <span class="keyword">end</span>
0291 
0292 <span class="keyword">for</span> i = 1:length(inputStruct.resolutionParamLimits)
0293     problemLimits.resolutionParam(i,:) = inputStruct.resolutionParamLimits{i};
0294 <span class="keyword">end</span>
0295 
0296 <span class="keyword">if</span> isa(project, <span class="string">'domainsClass'</span>)
0297     <span class="keyword">for</span> i = 1:length(inputStruct.domainRatioLimits)
0298         problemLimits.domainRatio(i,:) = inputStruct.domainRatioLimits{i};
0299     <span class="keyword">end</span>
0300 <span class="keyword">else</span>
0301     problemLimits.domainRatio = ones(0,2);
0302 <span class="keyword">end</span>
0303 
0304 
0305 <span class="comment">%% Make the problemStruct structure from the remaining inputs</span>
0306 
0307 <span class="comment">% *************************************************************************</span>
0308 <span class="comment">% NOTE - not using the more complicated background and resolution</span>
0309 <span class="comment">% definitions for now - instead use the background names and</span>
0310 <span class="comment">% backgroundParam values.... fix this next</span>
0311 <span class="comment">% *************************************************************************</span>
0312 
0313 
0314 problemStruct.TF = inputStruct.TF;
0315 problemStruct.resample = inputStruct.resample;
0316 problemStruct.dataPresent = inputStruct.dataPresent;
0317 problemStruct.oilChiDataPresent = inputStruct.oilChiDataPresent;
0318 problemStruct.numberOfContrasts = inputStruct.numberOfContrasts;
0319 problemStruct.geometry = inputStruct.geometry;
0320 problemStruct.useImaginary = inputStruct.useImaginary;
0321 problemStruct.contrastBackgrounds = inputStruct.contrastBackgrounds;
0322 problemStruct.contrastBackgroundActions = backgroundActions;
0323 problemStruct.contrastQzshifts = inputStruct.contrastQzshifts;
0324 problemStruct.contrastScalefactors = inputStruct.contrastScalefactors;
0325 problemStruct.contrastBulkIns = inputStruct.contrastBulkIns;
0326 problemStruct.contrastBulkOuts = inputStruct.contrastBulkOuts;
0327 problemStruct.contrastResolutions = contrastRes;
0328 problemStruct.backgroundParams = inputStruct.backgroundParamValues; <span class="comment">%inputStruct.backgrounds;       % **** note backPar workaround (todo) ****</span>
0329 problemStruct.qzshifts = inputStruct.qzshiftValues;
0330 problemStruct.scalefactors = inputStruct.scalefactorValues;
0331 problemStruct.bulkIn = inputStruct.bulkInValues;
0332 problemStruct.bulkOut = inputStruct.bulkOutValues;
0333 problemStruct.resolutionParams = inputStruct.resolutionParamValues; <span class="comment">%inputStruct.resolutions;           % **** note resolutionParam workaround (todo) ****</span>
0334 problemStruct.params = inputStruct.paramValues;
0335 problemStruct.numberOfLayers = inputStruct.numberOfLayers;
0336 problemStruct.modelType = inputStruct.modelType;
0337 problemStruct.contrastCustomFiles = inputStruct.contrastCustomFile;
0338 
0339 <span class="comment">% Add the domains parameters, using dummy values if this is not a domains</span>
0340 <span class="comment">% calculation</span>
0341 problemStruct.contrastDomainRatios = inputStruct.contrastDomainRatios;
0342 
0343 <span class="keyword">if</span> isa(project, <span class="string">'domainsClass'</span>)
0344     problemStruct.domainRatio = inputStruct.domainRatioValues;
0345 <span class="keyword">else</span>
0346     problemStruct.domainRatio = ones(1,0);
0347 <span class="keyword">end</span>
0348 
0349 <span class="keyword">if</span> isa(project, <span class="string">'domainsClass'</span>) &amp;&amp; isa(project.domainContrasts, <span class="string">'domainContrastsClass'</span>)
0350     problemStruct.numberOfDomainContrasts = inputStruct.numberOfDomainContrasts;
0351 <span class="keyword">else</span>
0352     problemStruct.numberOfDomainContrasts = 0;
0353 <span class="keyword">end</span>    
0354 
0355 <span class="comment">% Initialise the lists of fitting parameters</span>
0356 problemStruct.fitParams = [];
0357 problemStruct.otherParams = [];
0358 problemStruct.fitLimits = [];
0359 problemStruct.otherLimits = [];
0360 
0361 
0362 <span class="comment">%% Now deal with the controls class</span>
0363 controls.procedure = inputControls.procedure;
0364 controls.parallel = inputControls.parallel;
0365 controls.resampleParams = inputControls.resampleParams;
0366 controls.calcSldDuringFit = inputControls.calcSldDuringFit;
0367 controls.display = inputControls.display;
0368 controls.xTolerance = inputControls.xTolerance;
0369 controls.funcTolerance = inputControls.funcTolerance;
0370 controls.maxFuncEvals = inputControls.maxFuncEvals;
0371 controls.maxIterations = inputControls.maxIterations;
0372 controls.updateFreq = inputControls.updateFreq;
0373 controls.updatePlotFreq = inputControls.updatePlotFreq;
0374 controls.populationSize = inputControls.populationSize;
0375 controls.fWeight = inputControls.fWeight;
0376 controls.crossoverProbability = inputControls.crossoverProbability;
0377 controls.strategy = inputControls.strategy;
0378 controls.targetValue = inputControls.targetValue;
0379 controls.numGenerations = inputControls.numGenerations;
0380 controls.nLive = inputControls.nLive;
0381 controls.nMCMC = inputControls.nMCMC;
0382 controls.propScale = inputControls.propScale;
0383 controls.nsTolerance = inputControls.nsTolerance;
0384 controls.nSamples = inputControls.nSamples;
0385 controls.nChains = inputControls.nChains;   
0386 controls.jumpProbability = inputControls.jumpProbability;      
0387 controls.pUnitGamma = inputControls.pUnitGamma;
0388 controls.boundHandling = inputControls.boundHandling;
0389 controls.adaptPCR = inputControls.adaptPCR;
0390 
0391 <span class="comment">% Also need to deal with the checks...</span>
0392 checks.fitParam = inputStruct.fitParam;
0393 checks.fitBackgroundParam = inputStruct.fitBackgroundParam;
0394 checks.fitQzshift = inputStruct.fitQzshift;
0395 checks.fitScalefactor = inputStruct.fitScalefactor;
0396 checks.fitBulkIn = inputStruct.fitBulkIn;
0397 checks.fitBulkOut = inputStruct.fitBulkOut;
0398 checks.fitResolutionParam = inputStruct.fitResolutionParam;
0399 <span class="keyword">if</span> isa(project, <span class="string">'domainsClass'</span>)
0400     checks.fitDomainRatio = inputStruct.fitDomainRatio;
0401 <span class="keyword">else</span>
0402     checks.fitDomainRatio = ones(1,0);
0403 <span class="keyword">end</span>
0404 
0405 controls.checks = checks;
0406 
0407 <span class="comment">%% Finally, populate the fitParams, otherParams, fitLimits, otherLimits arrays</span>
0408 [problemStruct,~] = packParams(problemStruct,problemCells,problemLimits,controls.checks);
0409 
0410 <span class="keyword">end</span>
</pre></div>

<hr><address>Generated on Wed 05-Jun-2024 09:06:47 by <strong><a href="https://github.com/gllmflndn/m2html">m2html</a></strong> &copy; 2003-2022</address>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of baseContrasts</title>
  <meta name="keywords" content="baseContrasts">
  <meta name="description" content="">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003-2019 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- ../menu.html API -->
<!-- menu.html projectClass -->

<h1>baseContrasts
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong></strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment"></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="baseContrasts.html" class="code" title="">baseContrasts</a>	</li>
</ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="baseContrasts.html" class="code" title="">baseContrasts</a>	</li>
<li><a href="contrastsClass.html" class="code" title="">contrastsClass</a>	</li>
<li><a href="domainContrastsClass.html" class="code" title="">domainContrastsClass</a>	</li>
</ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function obj = baseContrasts(domainsCalc, oilWaterCalc)</a></li>
<li><a href="#_sub2" class="code">function count = get.numberOfContrasts(obj)</a></li>
<li><a href="#_sub3" class="code">function names = get.displayNames(obj)</a></li>
<li><a href="#_sub4" class="code">function obj = addContrast(obj, allowedNames, varargin)</a></li>
<li><a href="#_sub5" class="code">function obj = removeContrast(obj, row)</a></li>
<li><a href="#_sub6" class="code">function obj = setContrastModel(obj, row, modelType, allowedNames, model)</a></li>
<li><a href="#_sub7" class="code">function obj = setContrast(obj, row, allowedNames, varargin)</a></li>
<li><a href="#_sub8" class="code">function contrastNames = getAllContrastNames(obj)</a></li>
<li><a href="#_sub9" class="code">function contrastStruct = toStruct(obj, allowedNames, modelType)</a></li>
<li><a href="#_sub10" class="code">function displayContrastsObject(obj)</a></li>
</ul>


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 classdef (Abstract) <a href="baseContrasts.html" class="code" title="">baseContrasts</a> &lt; handle
0002 
0003     <span class="comment">% This class holds the common routines for the subclasses</span>
0004     <span class="comment">% &quot;contrastsClass.m&quot; and &quot;domainContrastsClass.m&quot;</span>
0005     
0006     properties
0007         contrasts = {}
0008     <span class="keyword">end</span>
0009 
0010     properties (Access = protected)
0011         contrastAutoNameCounter
0012     <span class="keyword">end</span>
0013 
0014     properties (SetAccess = immutable)
0015         domainsCalc
0016         oilWaterCalc
0017     <span class="keyword">end</span>
0018 
0019     properties (Dependent, SetAccess = private)
0020         numberOfContrasts
0021         displayNames
0022     <span class="keyword">end</span>
0023 
0024     properties(Access = protected, Constant, Hidden)
0025         invalidTypeMessage = sprintf(<span class="string">'Model type must be a modelTypes enum or one of the following strings (%s)'</span>, <span class="keyword">...</span>
0026                                      strjoin(modelTypes.values(), <span class="string">', '</span>))
0027         rowHeaders = struct(<span class="string">'key'</span>, [&quot;Name&quot;; &quot;Data&quot;; &quot;Oil Chi Data&quot;; &quot;Background&quot;; &quot;Bulk in&quot;; &quot;Bulk out&quot;; &quot;Scalefactor&quot;; &quot;Resolution&quot;; &quot;Resample&quot;; &quot;Domain Ratio&quot;; &quot;Model&quot;], <span class="keyword">...</span>
0028                             <span class="string">'field'</span>, [&quot;name&quot;; &quot;data&quot;; &quot;oilChiData&quot;; &quot;background&quot;; &quot;nba&quot;; &quot;nbs&quot;; &quot;scalefactor&quot;; &quot;resolution&quot;; &quot;resample&quot;; &quot;domainRatio&quot;; &quot;model&quot;])
0029     <span class="keyword">end</span>
0030 
0031     methods (Abstract)
0032         parseContrastInput
0033         getDisplayNames
0034     <span class="keyword">end</span>
0035 
0036     methods
0037         
0038         <a name="_sub0" href="#_subfunctions" class="code">function obj = baseContrasts(domainsCalc, oilWaterCalc)</a>
0039             <span class="comment">% Class Constructor</span>
0040             <span class="comment">% The (optional) inputs are logical flags to state whether</span>
0041             <span class="comment">% or not this is a domains calculation and wheter or not this</span>
0042             <span class="comment">% is an oil-water calculation.</span>
0043             <span class="comment">%</span>
0044             <span class="comment">% contrasts = contrastsClass()</span>
0045             arguments
0046                 domainsCalc {mustBeA(domainsCalc,<span class="string">'logical'</span>)} = false
0047                 oilWaterCalc {mustBeA(oilWaterCalc,<span class="string">'logical'</span>)} = false
0048             <span class="keyword">end</span>
0049 
0050             obj.domainsCalc = domainsCalc;
0051             obj.oilWaterCalc = oilWaterCalc;
0052             obj.contrastAutoNameCounter = 1;
0053         <span class="keyword">end</span>
0054 
0055         <a name="_sub1" href="#_subfunctions" class="code">function count = get.numberOfContrasts(obj)</a>
0056             count = length(obj.contrasts);
0057         <span class="keyword">end</span>
0058         
0059         <a name="_sub2" href="#_subfunctions" class="code">function names = get.displayNames(obj)</a>
0060             names = obj.getDisplayNames();
0061         <span class="keyword">end</span>
0062 
0063         <a name="_sub3" href="#_subfunctions" class="code">function obj = addContrast(obj, allowedNames, varargin)</a>
0064             <span class="comment">% Add a contrast to the class</span>
0065             <span class="comment">% A class can be added with no input parameters, just a class</span>
0066             <span class="comment">% name, or a set of key-value pairs.</span>
0067             <span class="comment">%</span>
0068             <span class="comment">% contrasts.addContrast()</span>
0069             <span class="comment">% contrasts.addContrast('New Contrast')</span>
0070             <span class="comment">% contrasts.addContrast('name', 'new contrast', ...</span>
0071             <span class="comment">%                       'background', 'Background H2O')</span>
0072             <span class="keyword">if</span> isempty(varargin)
0073                 <span class="comment">% No input at all</span>
0074                 contrastName = sprintf(<span class="string">'New contrast %d'</span>, obj.contrastAutoNameCounter);
0075                 inputVals = {<span class="string">'name'</span>, contrastName};
0076                 
0077             <span class="keyword">elseif</span> length(varargin) == 1
0078                 <span class="comment">% Just name of contrast</span>
0079                 thisName = varargin{1};
0080                 inputVals = {<span class="string">'name'</span>, thisName};
0081                 
0082             <span class="keyword">else</span>
0083                 <span class="comment">% Everything else</span>
0084                 inputVals = varargin;
0085             <span class="keyword">end</span>
0086             
0087             thisContrast = parseContrastInput(obj, allowedNames, inputVals);
0088             thisContrast.model = <span class="string">''</span>;
0089             obj.contrasts{end+1} = thisContrast;
0090             obj.contrastAutoNameCounter = obj.contrastAutoNameCounter + 1;
0091         
0092         <span class="keyword">end</span>
0093 
0094         <a name="_sub4" href="#_subfunctions" class="code">function obj = removeContrast(obj, row)</a>
0095             <span class="comment">% Removes a contrast from the list.</span>
0096             <span class="comment">% The contrast can be specified either by name or by index, but</span>
0097             <span class="comment">% only one contrast can be removed at a time.</span>
0098             <span class="comment">%</span>
0099             <span class="comment">% contrasts.removeContrast('Named Contrast')</span>
0100             <span class="comment">% contrasts.removeContrast(1)</span>
0101 
0102             <span class="comment">% First determine if contrast is being referenced by name or</span>
0103             <span class="comment">% number...</span>
0104 
0105             <span class="comment">% If the input is a string, find the index of the relevant</span>
0106             <span class="comment">% contrast...</span>
0107             <span class="keyword">if</span> isText(row)
0108                 contrastNames = <a href="#_sub8" class="code" title="subfunction contrastNames = getAllContrastNames(obj)">getAllContrastNames</a>(obj);
0109                 row = find(strcmp(contrastNames,row));
0110                 
0111                 <span class="comment">% Throw an error if the name is not matched</span>
0112                 <span class="keyword">if</span> isempty(row)
0113                     throw(nameNotRecognised(<span class="string">'Contrast name not found'</span>));
0114                 <span class="keyword">end</span>
0115             <span class="keyword">end</span>
0116            
0117             <span class="comment">% Check to make sure the number is in range</span>
0118             <span class="keyword">if</span> row &lt; 1 || row &gt; obj.numberOfContrasts
0119                 throw(indexOutOfRange(sprintf(<span class="string">'Specified contrast %d is not in range 1 - %d'</span>, row, obj.numberOfContrasts)));
0120             <span class="keyword">end</span>
0121 
0122             <span class="comment">% Remove the contrast from the contrasts cell array</span>
0123             obj.contrasts(row) = [];
0124 
0125         <span class="keyword">end</span>
0126 
0127         <a name="_sub5" href="#_subfunctions" class="code">function obj = setContrastModel(obj, row, modelType, allowedNames, model)</a>
0128             <span class="comment">% Set the value of the model parameter in a contrast.</span>
0129             <span class="comment">% The expected input is the contrast (specified either by name</span>
0130             <span class="comment">% or index), the model type, the allowed values (either layers</span>
0131             <span class="comment">% for standard layers or custom files for custom models) and</span>
0132             <span class="comment">% either a string or cell array for the model itself.</span>
0133             <span class="comment">% Note that the model can only be set here, and not in</span>
0134             <span class="comment">% &quot;addContrast&quot; or &quot;setContrast&quot;.</span>
0135             <span class="comment">%</span>
0136             <span class="comment">% contrasts.setContrastModel(1, 'standard layers', allowedNames, 'Oxide Model')</span>
0137             
0138             <span class="comment">% Find if we are referencing an existing contrast</span>
0139             <span class="keyword">if</span> isnumeric(row)
0140                 <span class="keyword">if</span> (row &lt; 1 || row &gt; obj.numberOfContrasts)
0141                     throw(indexOutOfRange(sprintf(<span class="string">'Contrast number %d is out of range 1 - %d'</span>, row, obj.numberOfContrasts)));
0142                 <span class="keyword">end</span>
0143                 contrastIndex = row; 
0144             <span class="keyword">elseif</span> isText(row)
0145                 [present,idx] = ismember(row, obj.getAllContrastNames());
0146                 <span class="keyword">if</span> ~present
0147                     throw(nameNotRecognised(sprintf(<span class="string">'Contrast %s is not recognised'</span>, row)));
0148                 <span class="keyword">end</span>
0149                 contrastIndex = idx;
0150             <span class="keyword">end</span>
0151 
0152             <span class="comment">% Determine which contrast is being set</span>
0153             thisContrast = obj.contrasts{contrastIndex};
0154             modelArray = cellstr(model);
0155 
0156             <span class="comment">% Check the input is as expected</span>
0157             modelType = validateOption(modelType, <span class="string">'modelTypes'</span>, obj.invalidTypeMessage).value;
0158             <span class="keyword">if</span> any(strcmpi(modelType, {modelTypes.CustomLayers.value, modelTypes.CustomXY.value}))
0159                 <span class="keyword">if</span> length(modelArray) &gt; 1
0160                     throw(invalidValue(<span class="string">'Only 1 model value allowed for ''custom'''</span>));
0161                 <span class="keyword">end</span>
0162             <span class="keyword">end</span>
0163 
0164             <span class="keyword">for</span> i = 1:length(modelArray)
0165                 <span class="keyword">if</span> ~strcmpi(modelArray{i}, allowedNames)
0166                     throw(nameNotRecognised(sprintf(<span class="string">'Layer/Custom Name %s is not recognised'</span>, modelArray{i})));
0167                 <span class="keyword">end</span>
0168             <span class="keyword">end</span>
0169 
0170             thisContrast.model = modelArray;
0171             obj.contrasts{contrastIndex} = thisContrast;
0172 
0173         <span class="keyword">end</span>
0174 
0175         <a name="_sub6" href="#_subfunctions" class="code">function obj = setContrast(obj, row, allowedNames, varargin)</a>
0176             <span class="comment">% Set a value within a contrast.</span>
0177             <span class="comment">% The expected input is the contrast (specified either by name</span>
0178             <span class="comment">% or index), the allowed values for all parameters and a</span>
0179             <span class="comment">% set of key-value pairs for the parameter values to be</span>
0180             <span class="comment">% changed.</span>
0181             <span class="comment">%</span>
0182             <span class="comment">% contrasts.setContrast(1, allowedNames, ...</span>
0183             <span class="comment">%                       'name', 'New contrast name', ...</span>
0184             <span class="comment">%                       'background', 'New Background')</span>
0185 
0186             <span class="comment">% Find if we are referencing an existing contrast</span>
0187             <span class="keyword">if</span> isnumeric(row)
0188                 <span class="keyword">if</span> (row &lt; 1 || row &gt; obj.numberOfContrasts)
0189                     throw(indexOutOfRange(sprintf(<span class="string">'Contrast number %d is out of range 1 - %d'</span>, row, obj.numberOfContrasts)));
0190                 <span class="keyword">end</span>
0191                 contrastIndex = row;
0192                 
0193             <span class="keyword">elseif</span> isText(row)
0194                 [present,idx] = ismember(row, obj.getAllContrastNames());
0195                 <span class="keyword">if</span> ~present
0196                     throw(nameNotRecognised(sprintf(<span class="string">'Contrast %s is not recognised'</span>,row)));
0197                 <span class="keyword">end</span>
0198                 contrastIndex = idx;
0199                 
0200             <span class="keyword">end</span>
0201 
0202             thisContrast = obj.contrasts{contrastIndex};
0203 
0204             <span class="comment">% Check to see if the inputs are valid</span>
0205             <span class="comment">% Raise a warning if we try to set the model as this should be</span>
0206             <span class="comment">% done elsewhere</span>
0207             inputBlock = parseContrastInput(obj, allowedNames, varargin);
0208             
0209             <span class="keyword">if</span> isfield(inputBlock, <span class="string">'name'</span>) &amp;&amp; ~isempty(inputBlock.name)
0210                 thisContrast.name = inputBlock.name;
0211             <span class="keyword">end</span>
0212 
0213             <span class="keyword">if</span> isfield(inputBlock, <span class="string">'data'</span>) &amp;&amp; ~isempty(inputBlock.data)
0214                 thisContrast.data = inputBlock.data;
0215             <span class="keyword">end</span>
0216 
0217             <span class="keyword">if</span> isfield(inputBlock, <span class="string">'oilChiData'</span>) &amp;&amp; ~isempty(inputBlock.oilChiData)
0218                 thisContrast.oilChiData = inputBlock.oilChiData;
0219             <span class="keyword">end</span>
0220             
0221             <span class="keyword">if</span> isfield(inputBlock, <span class="string">'background'</span>) &amp;&amp; ~isempty(inputBlock.background)
0222                 thisContrast.background = inputBlock.background;
0223             <span class="keyword">end</span>
0224             
0225             <span class="keyword">if</span> isfield(inputBlock, <span class="string">'nba'</span>) &amp;&amp; ~isempty(inputBlock.nba)
0226                 thisContrast.nba = inputBlock.nba;
0227             <span class="keyword">end</span>
0228             
0229             <span class="keyword">if</span> isfield(inputBlock, <span class="string">'nbs'</span>) &amp;&amp; ~isempty(inputBlock.nbs)
0230                 thisContrast.nbs = inputBlock.nbs;
0231             <span class="keyword">end</span>
0232 
0233             <span class="keyword">if</span> isfield(inputBlock, <span class="string">'scalefactor'</span>) &amp;&amp; ~isempty(inputBlock.scalefactor)
0234                 thisContrast.scalefactor = inputBlock.scalefactor;
0235             <span class="keyword">end</span>
0236             
0237             <span class="keyword">if</span> isfield(inputBlock, <span class="string">'resolution'</span>) &amp;&amp; ~isempty(inputBlock.resolution)
0238                 thisContrast.resolution = inputBlock.resolution;
0239             <span class="keyword">end</span>
0240             
0241             <span class="keyword">if</span> isfield(inputBlock, <span class="string">'resample'</span>) &amp;&amp; ~isempty(inputBlock.resample)
0242                 thisContrast.resample = inputBlock.resample;
0243             <span class="keyword">end</span>
0244             
0245             <span class="keyword">if</span> isfield(inputBlock, <span class="string">'domainRatio'</span>) &amp;&amp; ~isempty(inputBlock.domainRatio)
0246                 thisContrast.domainRatio = inputBlock.domainRatio;
0247             <span class="keyword">end</span>
0248 
0249             obj.contrasts{contrastIndex} = thisContrast;
0250             
0251         <span class="keyword">end</span>
0252 
0253         <a name="_sub7" href="#_subfunctions" class="code">function contrastNames = getAllContrastNames(obj)</a>
0254             <span class="comment">% Get the names of all contrasts defined in the class.</span>
0255             <span class="comment">%</span>
0256             <span class="comment">% contrasts.getAllContrastNames()</span>
0257             nContrasts = obj.numberOfContrasts;
0258             contrastNames = cell(1,nContrasts);
0259                         
0260             <span class="keyword">for</span> i = 1:nContrasts
0261                 thisContrast = obj.contrasts{i};
0262                 contrastNames{i} = thisContrast.name;
0263             <span class="keyword">end</span>
0264         <span class="keyword">end</span>
0265 
0266         <a name="_sub8" href="#_subfunctions" class="code">function contrastStruct = toStruct(obj, allowedNames, modelType)</a>
0267             <span class="comment">% Convert the contrasts class to a struct.</span>
0268             <span class="comment">% This routine deals with properties common to all contrast</span>
0269             <span class="comment">% classes. The expected input is the allowed names for each</span>
0270             <span class="comment">% parameter, the model type and the data table from the data class.</span>
0271             <span class="comment">%</span>
0272             <span class="comment">% contrasts.toStruct(allowedNames, 'standard layers', dataTable)</span>
0273             nContrasts = obj.numberOfContrasts;
0274             contrastLayers = cell(1,nContrasts);
0275             contrastNbas = ones(1,nContrasts);
0276             contrastNbss = ones(1,nContrasts);
0277             contrastCustomFile = ones(1,nContrasts);
0278             
0279             contrastNames = cell(1,nContrasts);
0280             contrastRepeatSLDs = cell(1,nContrasts);
0281             
0282             <span class="keyword">for</span> i = 1:nContrasts
0283 
0284                 thisContrast = obj.contrasts{i};
0285                 
0286                 contrastNbas(i) = find(strcmpi(thisContrast.nba,allowedNames.bulkInNames));
0287                 contrastNbss(i) = find(strcmpi(thisContrast.nbs,allowedNames.bulkOutNames));
0288                 contrastRepeatSLDs{i} = [0 1]; <span class="comment">% todo</span>
0289                 contrastNames{i} = thisContrast.name;
0290 
0291                 modelType = validateOption(modelType, <span class="string">'modelTypes'</span>, obj.invalidTypeMessage).value;
0292                 <span class="keyword">switch</span> modelType
0293                     <span class="keyword">case</span> modelTypes.StandardLayers.value
0294                         thisModel = thisContrast.model;
0295                         thisLayerArray = ones(1, length(thisModel));
0296                         <span class="keyword">for</span> n = 1:length(thisModel)
0297                             thisLayer = thisModel{n};
0298                             thisLayerNum = find(strcmpi(thisLayer, allowedNames.layersNames));
0299                             thisLayerArray(n) = thisLayerNum;
0300                         <span class="keyword">end</span>
0301                         contrastLayers{i} = thisLayerArray;
0302                         contrastCustomFile(i) = NaN;
0303                     <span class="keyword">otherwise</span>
0304                         contrastLayers{i} = {};
0305                         whichFile = thisContrast.model;
0306                         thisContrastFileNum = find(strcmpi(whichFile, allowedNames.customNames));
0307                         contrastCustomFile(i) = thisContrastFileNum;
0308                 <span class="keyword">end</span>
0309                 
0310             <span class="keyword">end</span>
0311 
0312             contrastStruct.contrastNames = contrastNames;
0313             contrastStruct.numberOfContrasts = nContrasts;
0314             contrastStruct.contrastNbas = contrastNbas;
0315             contrastStruct.contrastNbss = contrastNbss;
0316             contrastStruct.contrastLayers = contrastLayers;
0317             contrastStruct.contrastRepeatSLDs = contrastRepeatSLDs;
0318             contrastStruct.contrastCustomFile = contrastCustomFile;
0319             
0320         <span class="keyword">end</span>
0321 
0322         <a name="_sub9" href="#_subfunctions" class="code">function displayContrastsObject(obj)</a>
0323             <span class="comment">% Display the contrasts object as a table.</span>
0324             <span class="comment">% The subclass routine needs to pass in the rowNames for it's</span>
0325             <span class="comment">% particular properties.</span>
0326             <span class="comment">%</span>
0327             <span class="comment">% contrasts.displayContrastsObject()</span>
0328             rowNames = obj.displayNames;
0329             nContrasts = obj.numberOfContrasts;
0330             maxModelSize = 1;
0331             
0332             <span class="keyword">for</span> i = 1:nContrasts
0333                 thisContrast = obj.contrasts{i};
0334                 thisModel = thisContrast.model;
0335                 <span class="keyword">if</span> length(thisModel) &gt; maxModelSize
0336                     maxModelSize = length(thisModel);
0337                 <span class="keyword">end</span>
0338             <span class="keyword">end</span>
0339 
0340             numNamedRows = length(rowNames);
0341             modelRows = cell((maxModelSize-1),1);
0342             <span class="keyword">if</span> ~isempty(modelRows)
0343                 <span class="keyword">for</span> n = 1:length(modelRows)
0344                     modelRows{n} = <span class="string">''</span>;
0345                 <span class="keyword">end</span>
0346             <span class="keyword">end</span>
0347 
0348             p = [rowNames ; modelRows];
0349             totalRows = length(p);
0350             contrastsCell = cell(totalRows,nContrasts);
0351             
0352             <span class="keyword">for</span> i = 1:nContrasts
0353                 thisContrast = obj.contrasts{i};
0354                 n = 1;
0355 
0356                 <span class="comment">% Loop over all fields excluding the model</span>
0357                 <span class="keyword">for</span> j = 1:length(rowNames)-1
0358                     field = obj.rowHeaders.field(obj.rowHeaders.key == rowNames{j});
0359                     contrastsCell(n,i) = {thisContrast.(field)};
0360                     n = n + 1;
0361                 <span class="keyword">end</span>
0362                 
0363                 <span class="comment">% Deal with the model explicitly</span>
0364                 thisModel = thisContrast.model;
0365                 <span class="keyword">if</span> isempty(thisModel)
0366                     contrastsCell(numNamedRows,i) = {<span class="string">' '</span>};
0367                 <span class="keyword">else</span>
0368                     <span class="keyword">for</span> n = 1:length(thisModel)
0369                         contrastsCell(numNamedRows+(n-1),i) = {thisModel(n)};
0370                     <span class="keyword">end</span>
0371                 <span class="keyword">end</span>
0372 
0373             <span class="keyword">end</span>
0374             
0375             sz = size(contrastsCell);
0376             varTypes = cell(1,nContrasts);
0377             varNames = cell(1,nContrasts);
0378             <span class="keyword">for</span> i = 1:nContrasts
0379                 varNames{i} = num2str(i);
0380                 varTypes{i} = <span class="string">'string'</span>;
0381             <span class="keyword">end</span>
0382 
0383             thisTable = table(<span class="string">'Size'</span>,sz,<span class="string">'VariableTypes'</span>,varTypes,<span class="string">'VariableNames'</span>,varNames);
0384             
0385             <span class="comment">% Make sure that there are no empty cells - make them empty</span>
0386             <span class="comment">% char arrays or they will not be valid table elements</span>
0387             <span class="keyword">for</span> n = 1:sz(1)
0388                 <span class="keyword">for</span> m = 1:sz(2)
0389                     <span class="keyword">if</span> (isempty(contrastsCell{n,m}))
0390                         contrastsCell{n,m} = <span class="string">''</span>;
0391                     <span class="keyword">end</span>
0392                 <span class="keyword">end</span>
0393             <span class="keyword">end</span>
0394             thisTable(:,:) = contrastsCell;
0395             valTable = table(p);
0396             totalTable = [valTable thisTable];
0397             disp(totalTable);
0398         <span class="keyword">end</span>
0399 
0400     <span class="keyword">end</span>
0401 <span class="keyword">end</span>
0402 
0403 
</pre></div>

<hr><address>Generated on Tue 20-Jun-2023 16:21:19 by <strong><a href="https://github.com/gllmflndn/m2html">m2html</a></strong> &copy; 2003-2022</address>
</body>
</html>

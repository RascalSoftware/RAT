<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Controls Class &mdash; RAT 1.0.0-beta documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/design-tabs.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="RAT Entry Functions" href="entryFunctions.html" />
    <link rel="prev" title="Contrasts Class" href="contrastsClass.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/ratLogo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithms.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="calcTypes.html">Different Calculation Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utility Functions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="reference.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="projectClass.html">Project Class</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Controls Class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#reference">Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="entryFunctions.html">RAT Entry Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="targetFunctions.html">Target Functions (Low Level API)</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilityFunctions.html">Utility Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">RAT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="reference.html">API Reference</a></li>
      <li class="breadcrumb-item active">Controls Class</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/controlClass.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="controls-class">
<h1>Controls Class<a class="headerlink" href="#controls-class" title="Permalink to this heading"></a></h1>
<p>ControlsClass is all about control. It is necessary in determining the way RAT works. It deals with how the user interacts with the software. From type of parallelization,
to whether the users wants to calculate SLD during fit, and even how many iteration an algorithm should do etc.</p>
<p>There are 5 different <cite>controlsClass.procedures</cite> that can be used with RAT. They are:</p>
<ol class="arabic simple">
<li><p><strong>Simplex</strong></p></li>
<li><p><strong>Differential Evolution (DE)</strong> - Optimizes a problem by iteratively improving a candidate solution based on an evolutionary process</p></li>
<li><p><strong>Nested Sampler (NS)</strong> - Estimates directly how the likelihood function relates to prior mass</p></li>
<li><p><strong>DREAM</strong></p></li>
<li><p><strong>Calculate</strong></p></li>
</ol>
<p>Each of them has their own unique set of options. The fields in class object of controlsClass are
automatically updated based on the procedure selected.</p>
<p>RAT uses parallelization to speed up the calculation. This is achieved using Parallel Computing Toolbox. The user can choose to use the parallelisation or not and
if yes, what to parallelize on. (Single, Points or Contrasts)</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">Sample usage of controlsClass.</span><a class="headerlink" href="#id1" title="Permalink to this code"></a></div>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">controls</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">controlsClass</span><span class="p">();</span>
<span class="w">    </span><span class="n">controls</span><span class="p">.</span><span class="n">procedure</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">procedures</span><span class="p">.</span><span class="n">Dream</span><span class="p">;</span>
<span class="w">    </span><span class="n">controls</span><span class="p">.</span><span class="n">nSamples</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">6000</span><span class="p">;</span>
<span class="w">    </span><span class="n">controls</span><span class="p">.</span><span class="n">nChains</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="w">    </span><span class="n">controls</span><span class="p">.</span><span class="n">parallel</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">parallelOptions</span><span class="p">.</span><span class="n">Contrasts</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Alternate usage of controlsClass.</span><a class="headerlink" href="#id2" title="Permalink to this code"></a></div>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">controls</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">controlsClass</span><span class="p">();</span>
<span class="w">    </span><span class="n">controls</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">controls</span><span class="p">.</span><span class="n">setProcedure</span><span class="p">(</span><span class="s">&#39;dream&#39;</span><span class="p">,</span><span class="k">...</span>
<span class="w">                                     </span><span class="p">{</span><span class="s">&#39;nSamples&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">6000</span><span class="p">,</span><span class="k">...</span>
<span class="w">                                      </span><span class="s">&#39;nChains&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="k">...</span>
<span class="w">                                      </span><span class="s">&#39;parallel&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;contrasts&#39;</span><span class="p">})</span>
</pre></div>
</div>
</div>
<section id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Permalink to this heading"></a></h2>
<dl class="mat class">
<dt class="sig sig-object mat" id="API.controlsClass">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">API.</span></span><span class="sig-name descname"><span class="pre">controlsClass</span></span><a class="headerlink" href="#API.controlsClass" title="Permalink to this definition"></a></dt>
<dd><dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.boundHandling">
<span class="sig-name descname"><span class="pre">boundHandling</span></span><a class="headerlink" href="#API.controlsClass.boundHandling" title="Permalink to this definition"></a></dt>
<dd><p>Boundary handling</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.calcSldDuringFit">
<span class="sig-name descname"><span class="pre">calcSldDuringFit</span></span><a class="headerlink" href="#API.controlsClass.calcSldDuringFit" title="Permalink to this definition"></a></dt>
<dd><p>Indicates if SLD should be calculated (Default: false)</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.crossoverProbability">
<span class="sig-name descname"><span class="pre">crossoverProbability</span></span><a class="headerlink" href="#API.controlsClass.crossoverProbability" title="Permalink to this definition"></a></dt>
<dd><p>The crossover probability or recombination constant (Default: 0.8)</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.display">
<span class="sig-name descname"><span class="pre">display</span></span><a class="headerlink" href="#API.controlsClass.display" title="Permalink to this definition"></a></dt>
<dd><p>Display Option (Default: displayOptions.Iter)</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.fWeight">
<span class="sig-name descname"><span class="pre">fWeight</span></span><a class="headerlink" href="#API.controlsClass.fWeight" title="Permalink to this definition"></a></dt>
<dd><p>Differential weight (Default: 0.5)</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.jumpProbability">
<span class="sig-name descname"><span class="pre">jumpProbability</span></span><a class="headerlink" href="#API.controlsClass.jumpProbability" title="Permalink to this definition"></a></dt>
<dd><p>Jump probabilities (Default: 0.5)</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.maxFuncEvals">
<span class="sig-name descname"><span class="pre">maxFuncEvals</span></span><a class="headerlink" href="#API.controlsClass.maxFuncEvals" title="Permalink to this definition"></a></dt>
<dd><p>Maximum number of function evaluations for simplex  (Default: 10000)</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.maxIterations">
<span class="sig-name descname"><span class="pre">maxIterations</span></span><a class="headerlink" href="#API.controlsClass.maxIterations" title="Permalink to this definition"></a></dt>
<dd><p>Maximum number of iterations for simplex  (Default: 1000)</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.nChains">
<span class="sig-name descname"><span class="pre">nChains</span></span><a class="headerlink" href="#API.controlsClass.nChains" title="Permalink to this definition"></a></dt>
<dd><p>Number of MCMC chains (Default: 10)</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.nLive">
<span class="sig-name descname"><span class="pre">nLive</span></span><a class="headerlink" href="#API.controlsClass.nLive" title="Permalink to this definition"></a></dt>
<dd><p>Number of live points for Nested Sampler (Default: 150)</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.nSamples">
<span class="sig-name descname"><span class="pre">nSamples</span></span><a class="headerlink" href="#API.controlsClass.nSamples" title="Permalink to this definition"></a></dt>
<dd><p>Total number of samples for DREAM (Default: 50000)</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.nsTolerance">
<span class="sig-name descname"><span class="pre">nsTolerance</span></span><a class="headerlink" href="#API.controlsClass.nsTolerance" title="Permalink to this definition"></a></dt>
<dd><p>Target stopping tolerance for Nested Sampler (Default: 0.1)</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.numGenerations">
<span class="sig-name descname"><span class="pre">numGenerations</span></span><a class="headerlink" href="#API.controlsClass.numGenerations" title="Permalink to this definition"></a></dt>
<dd><p>Maximum number of generations (Default: 500)</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.parallel">
<span class="sig-name descname"><span class="pre">parallel</span></span><a class="headerlink" href="#API.controlsClass.parallel" title="Permalink to this definition"></a></dt>
<dd><p>Parallelisation Option (Default: parallelOptions.Single)</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.populationSize">
<span class="sig-name descname"><span class="pre">populationSize</span></span><a class="headerlink" href="#API.controlsClass.populationSize" title="Permalink to this definition"></a></dt>
<dd><p>Differential Evolution population size (Default: 20)</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.procedure">
<span class="sig-name descname"><span class="pre">procedure</span></span><a class="headerlink" href="#API.controlsClass.procedure" title="Permalink to this definition"></a></dt>
<dd><p>Optimization procedure (Default: procedures.Calculate)</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.propScale">
<span class="sig-name descname"><span class="pre">propScale</span></span><a class="headerlink" href="#API.controlsClass.propScale" title="Permalink to this definition"></a></dt>
<dd><p>Used if MCMC is used</p>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="API.controlsClass.setProcedure">
<span class="sig-name descname"><span class="pre">setProcedure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">procedure</span></em>, <em class="sig-param"><span class="pre">varargin</span></em><span class="sig-paren">)</span><a class="headerlink" href="#API.controlsClass.setProcedure" title="Permalink to this definition"></a></dt>
<dd><p>Method sets the properties of the class based on the selected procedures.</p>
<dl class="simple">
<dt>USAGE: </dt><dd><p>obj.setProcedure(procedure, varargin)</p>
</dd>
<dt>EXAMPLE: </dt><dd><ul class="simple">
<li><p>obj.setProcedure(‘simplex’, {‘xTolerance’, 1e-6, ‘funcTolerance’, 1e-6,’maxFuncEvals’, 1000})</p></li>
<li><p>obj.setProcedure(‘dream’)</p></li>
<li><p>obj.setProcedure(‘ns’, {‘nLive’, 150,’nMCMC’, 0, ‘propScale’, 0.1, ‘nsTolerance’, 0.1})</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.strategy">
<span class="sig-name descname"><span class="pre">strategy</span></span><a class="headerlink" href="#API.controlsClass.strategy" title="Permalink to this definition"></a></dt>
<dd><p>differential evolution strategy (Default: searchStrategy.RandomWithPerVectorDither)</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.targetValue">
<span class="sig-name descname"><span class="pre">targetValue</span></span><a class="headerlink" href="#API.controlsClass.targetValue" title="Permalink to this definition"></a></dt>
<dd><p>Target Value (Default: 1)</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="API.controlsClass.xTolerance">
<span class="sig-name descname"><span class="pre">xTolerance</span></span><a class="headerlink" href="#API.controlsClass.xTolerance" title="Permalink to this definition"></a></dt>
<dd><p>optimization tolerance for simplex (Default: 1e-6)</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="contrastsClass.html" class="btn btn-neutral float-left" title="Contrasts Class" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="entryFunctions.html" class="btn btn-neutral float-right" title="RAT Entry Functions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022-2024, ISIS Neutron and Muon Source.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
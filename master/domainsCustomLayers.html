
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Custom Models with Domains &#8212; RAT 1.0.0-beta documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/design-tabs.js"></script>
    <link rel="icon" href="_static/logo.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Custom XY Models with Domains" href="domainsCustomXY.html" />
    <link rel="prev" title="Standard Layers Domains" href="domainsStanlay.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.png" alt="Logo" />
    
  </a>
</p>









<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithms.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Topics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="calcTypes.html">Different Calculation Types</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="imaginary.html">Adding the Imaginary Refractive Index</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="incoherent.html">Incoherent Summing (Domains)</a></li>
<li class="toctree-l2"><a class="reference internal" href="oilWater.html">Reflectivity from Oil/Water Samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="magnetic.html">Reflectivity from Magnetic Samples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utility Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
</ul>


        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="custom-models-with-domains">
<span id="domainscustomlayers"></span><h1>Custom Models with Domains<a class="headerlink" href="#custom-models-with-domains" title="Permalink to this heading">¶</a></h1>
<p>For custom layers models with domains, in the spirit of RAT custom models, all the work regarding domain construction is left to the user from within the custom model.
In the custom model itself, there is an extra input parameter for the custom model:</p>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span>[output,subRough]<span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">myCustomModel</span><span class="p">(</span>params,bulkIN,bulkOut,contrast,domainNumber<span class="p">)</span>
</pre></div>
</div>
<p>The first four parameters are the same as for a normal custom model. The final <em>‘domainNumber’</em> parameter is an integer with a value which is either 1 or 2. Then, it is up
to the user to build the correct domain. So for example, within the custom model:</p>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="k">switch</span><span class="p">(</span><span class="n">domainNumber</span><span class="p">)</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="mi">1</span>
<span class="w">        </span><span class="c">% &lt;Build structure for domain 1&gt;</span>
<span class="w">    </span><span class="k">otherwise</span>
<span class="w">        </span><span class="c">% &lt;Build structure for domain 2&gt;</span>
<span class="k">end</span>
</pre></div>
</div>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;2022-2024, ISIS Neutron and Muon Source.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 6.2.1</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/domainsCustomLayers.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Standard Layers Domains &#8212; RAT 1.0.0-beta documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/design-tabs.js"></script>
    <link rel="icon" href="_static/logo.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Custom Models with Domains" href="domainsCustomLayers.html" />
    <link rel="prev" title="Incoherent Summing (Domains)" href="incoherent.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.png" alt="Logo" />
    
  </a>
</p>









<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithms.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Topics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="calcTypes.html">Different Calculation Types</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="imaginary.html">Adding the Imaginary Refractive Index</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="incoherent.html">Incoherent Summing (Domains)</a></li>
<li class="toctree-l2"><a class="reference internal" href="oilWater.html">Reflectivity from Oil/Water Samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="magnetic.html">Reflectivity from Magnetic Samples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utility Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
</ul>


        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="standard-layers-domains">
<span id="domainsstanlay"></span><h1>Standard Layers Domains<a class="headerlink" href="#standard-layers-domains" title="Permalink to this heading">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See the <em>/examples/domains/standardLayers/</em> folder for an example of standard layers with domains.</p>
</div>
<p>In order to use domains, we create a project of the correct type….</p>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="n">problem</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">createProject</span><span class="p">(</span><span class="n">calcType</span><span class="p">=</span><span class="s">&quot;domains&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The principle of setting up these calculations relies on firstly grouping the layers into domains, then grouping the defined domains intro contrasts, according to a ‘domain ratio’ parameter:</p>
<a class="reference internal image-reference" href="_images/domainGraph.png"><img alt="_images/domainGraph.png" src="_images/domainGraph.png" style="width: 800px;" /></a>
<p>The example (in the examples folder), we define the layers as for conventional Standard Layers projects:</p>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="n">Layer1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="s">&#39;Layer 1&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">         % Name of the layer</span>
<span class="w">    </span><span class="s">&#39;L1 thick&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">              % Layer thickness</span>
<span class="w">    </span><span class="s">&#39;L1 SLD&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">                % Layer SLD</span>
<span class="w">    </span><span class="s">&#39;L1 Rough&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">              % Layer roughness</span>
<span class="w">    </span><span class="s">&#39;L1 Hydr&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">               % hydration (percent)</span>
<span class="w">    </span><span class="s">&#39;bulk out&#39;</span><span class="w"> </span><span class="p">};</span>

<span class="n">Layer2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="s">&#39;Layer 2&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">         % Name of the layer</span>
<span class="w">    </span><span class="s">&#39;L2 thick&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">              % Layer thickness</span>
<span class="w">    </span><span class="s">&#39;L2 SLD&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">                % Layer SLD</span>
<span class="w">    </span><span class="s">&#39;L2 Rough&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">              % Layer roughness</span>
<span class="w">    </span><span class="s">&#39;L2 Hydr&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">               % hydration (percent)</span>
<span class="w">    </span><span class="s">&#39;bulk out&#39;</span><span class="w"> </span><span class="p">};</span>

<span class="n">Layer3</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="s">&#39;Layer 3&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">         % Name of the layer</span>
<span class="w">    </span><span class="s">&#39;L2 thick&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">              % Layer thickness</span>
<span class="w">    </span><span class="s">&#39;L2 SLD&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">                % Layer SLD</span>
<span class="w">    </span><span class="s">&#39;L2 Rough&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">              % Layer roughness</span>
<span class="w">    </span><span class="s">&#39;L2 Hydr&#39;</span><span class="p">,</span><span class="k">...</span><span class="c">               % hydration (percent)</span>
<span class="w">    </span><span class="s">&#39;bulk out&#39;</span><span class="w"> </span><span class="p">};</span>

<span class="n">problem</span><span class="p">.</span><span class="n">addLayerGroup</span><span class="p">({</span><span class="n">Layer1</span><span class="p">,</span><span class="w"> </span><span class="n">Layer2</span><span class="p">,</span><span class="w"> </span><span class="n">Layer3</span><span class="p">});</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/domainLayersTable.png"><img alt="_images/domainLayersTable.png" src="_images/domainLayersTable.png" style="width: 800px;" /></a>
<p>From this point, the model diverges from the usual Standard Layers case, in that these are grouped into ‘domain contrasts’, which appear in an additional table in the
display projectClass. Domains contrasts consist of only layers, with no bulk phases etc..</p>
<a class="reference internal image-reference" href="_images/domainContrastTable.png"><img alt="_images/domainContrastTable.png" src="_images/domainContrastTable.png" style="width: 800px;" /></a>
<p>It is then these that are grouped into the final contrasts model. For each contrast, there must be two (<em>and only two</em>) domain contrasts. In addition, each contrast requires a
Domain Ratio parameter. This is a fittable parameter between 0 and 1, that appears in the Domain Ratio table:</p>
<a class="reference internal image-reference" href="_images/domainRatioTable.png"><img alt="_images/domainRatioTable.png" src="_images/domainRatioTable.png" style="width: 800px;" /></a>
<p>leading to the final contrast structure of two domains, and one domain ratio:</p>
<a class="reference internal image-reference" href="_images/domainContrast.png"><img alt="_images/domainContrast.png" src="_images/domainContrast.png" style="width: 800px;" /></a>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For domain ratio, a ratio of 0 means 100% Domain 1, whilst conversely a ratio of 1 means 100% Domain 2.</p>
</div>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;2022-2024, ISIS Neutron and Muon Source.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 6.2.1</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/domainsStanlay.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>